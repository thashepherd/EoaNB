afr_rrp_foreign_diplomacy = {

afr_rrp_american_colonization_society = {

	ai_will_do = { factor = 1 }
    available = {
		date < 1910.1.1
		AND = {
			USA = { 
				has_country_flag = USA_supports_acs
			}
			LIB = {
				has_completed_focus = LIB_gem_of_africa
			}
		}
		OR = { 
			ROOT = {
				has_country_flag = ACS_colony
			}
			LIB = { 
				is_neighbor_of = ROOT
			}
			any_country = {
				OR = {
					AND = { 
						is_subject_of = LIB
						is_neighbor_of = ROOT
					}
					AND = { 
						has_country_flag = ACS_colony
						is_neighbor_of = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
		
    }
	days_remove = 30
	allowed = { 
		afr_is_tribal_allowed = yes
	}
    visible = {
		date < 1911.1.1
		AND = { 
			ROOT = {
				OR = {
					has_idea = afr_post_tribal
					has_idea = afr_reforming_kingdom
					has_idea = AF_T_small_kingdom
					has_completed_focus = AF_O_K_invite_foreign_investors
					has_completed_focus = afr_wes_governmental_westernisation
				}
				NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
			}
			LIB = {
				has_country_flag = LIB_adopted_ACS_policy_flag
			}
			NOT = {
				has_country_flag = afr_rrp_british_company_port
				has_country_flag = afr_rrp_hamburg_company_port
				has_country_flag = afr_rrp_french_company_port
				has_country_flag = afr_rrp_german_company_port
				has_country_flag = afr_rrp_bremen_company_port
				has_country_flag = afr_rrp_sweden_company_port
				has_country_flag = afr_rrp_orange_company_port
				has_country_flag = afr_rrp_portugal_company_port
				AND = {
					has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
					OR = {
						has_country_flag = afr_progress_tree
						has_country_flag = afr_jihadist_tree
					}
				}
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	modifier = {

		
	}
	
	complete_effect = {
		LIB = { country_event = { days = 1 id = afr_rrp.13 } }
		every_country = { 
			if = {
				limit = {
					has_country_flag = ACS_colony
				}
				country_event = { days = 1 id = afr_rrp.13 } 
			}
		}
		set_country_flag = afr_rrp_usa_company
		set_country_flag = ACS_affiliate
		if = {
			limit = {
				LIB = { has_government = centrism }
			}
			ROOT = { 
				add_popularity = {
					ideology = centrism
					popularity = 0.03
				}
			}
		}
		else_if = {
			limit = {
				LIB = { has_government = traditional_conservatism }
			}
			ROOT = { 
				add_popularity = {
					ideology = traditional_conservatism
					popularity = 0.03
				}
			}
		}
		else_if = {
			limit = {
				LIB = { has_government = social_egalitarianism }
			}
			ROOT = { 
				add_popularity = {
					ideology = social_egalitarianism
					popularity = 0.03
				}
			}
		}	
		else_if = {
			limit = {
				LIB = { has_government = collectivist_socialism }
			}
			ROOT = { 
				add_popularity = {
					ideology = collectivist_socialism
					popularity = 0.03
				}
			}
		}	
		else_if = {
			limit = {
				LIB = { has_government = vanguard_communism }
			}
			ROOT = { 
				add_popularity = {
					ideology = vanguard_communism
					popularity = 0.03
				}
			}
		}	
		else_if = {
			limit = {
				LIB = { has_government = autocracy }
			}
			ROOT = { 
				add_popularity = {
					ideology = autocracy
					popularity = 0.03
				}
			}
		}
		else_if = {
			limit = {
				LIB = { has_government = radical_democracy }
			}
			ROOT = { 
				add_popularity = {
					ideology = radical_democracy
					popularity = 0.03
				}
			}
			
		}
		else_if = {
			limit = {
				LIB = { has_government = chauvinist_populism }
			}
			ROOT = { 
				add_popularity = {
					ideology = chauvinist_populism
					popularity = 0.03
				}
			}
		}
    }
}

afr_rrp_british_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = ENG
		custom_trigger_tooltip = {
			tooltip = afr_start_eng_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				ENG = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = ENG
						is_neighbor_of = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
		custom_trigger_tooltip = {
			tooltip = AFR_accept_bribes_for_slave_smuggling_trigger
			NOT = { has_idea = AFR_illegal_transatlantic }
		}
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		NOT = { afr_english_company_port_trigger = yes }
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_british_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}
	}
	
	complete_effect = {
		afr_company_port_effect = yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_3
		
		hidden_effect = {
			add_ideas = afr_rrp_british_company_partnership_idea
			set_afr_port_town_random_pop = yes
			ENG = { 
				country_event = { days = 1 id = afr_rrp.11 } 
			}
			add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						ENG = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_british_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					ENG = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						ENG = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_british_company_headquarters
						set_state_flag = afr_port_town
					}
					ENG = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						ENG = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_british_company_headquarters
						set_state_flag = afr_port_town
					}
					ENG = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						ENG = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_british_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						ENG = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_british_company_headquarters
					}
				}
			}
			give_military_access = ENG
			set_country_flag = afr_rrp_british_company_port
		}
		
	}
	
	
}

afr_rrp_french_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		FRA = { has_country_flag = FRA_has_colonial_ambitions }
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = FRA
		custom_trigger_tooltip = {
			tooltip = afr_start_fra_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				FRA = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = FRA
						is_neighbor_of = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		NOT = { 
			afr_french_company_port_trigger = yes
		}
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_french_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}
	}
	
	 complete_effect = {
		afr_company_port_effect = yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_3
		
		hidden_effect = {
			add_ideas = afr_rrp_french_company_partnership_idea
			set_afr_port_town_random_pop = yes
			FRA = { 
				country_event = { days = 1 id = afr_rrp.11 } 
			}
			add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						FRA = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_french_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					FRA = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						FRA = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_french_company_headquarters
						set_state_flag = afr_port_town
					}
					FRA = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						FRA = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_french_company_headquarters
						set_state_flag = afr_port_town
					}
					FRA = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						FRA = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_french_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						FRA = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_french_company_headquarters
					}
				}
			}
			give_military_access = FRA
			set_country_flag = afr_rrp_french_company_port
		}
    }
}

afr_rrp_portugal_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = POR
		custom_trigger_tooltip = {
			tooltip = afr_start_por_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				POR = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = POR
						is_neighbor_of = ROOT
					}
				}
			}
		}
		NOT = {
			ROOT = {
				is_subject_of = OTO
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		NOT = { 
			afr_portugal_company_port_trigger = yes
		}		
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_portugal_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}	
	}
	
	complete_effect = {
		afr_company_port_effect = yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_5
		
		hidden_effect = {
			add_ideas = afr_rrp_portugal_company_partnership_idea
			set_afr_port_town_random_pop = yes
			POR = { 
				country_event = { days = 1 id = afr_rrp.11 } 
			}	
			add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						POR = { STATE_TAG_DCI_increase_by_5 = yes }
						set_state_flag = afr_rrp_portugal_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					POR = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						POR = { STATE_TAG_DCI_increase_by_5 = yes }
						set_state_flag = afr_rrp_portugal_company_headquarters
						set_state_flag = afr_port_town
					}
					POR = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						POR = { STATE_TAG_DCI_increase_by_5 = yes }
						set_state_flag = afr_rrp_portugal_company_headquarters
						set_state_flag = afr_port_town
					}
					POR = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						POR = { STATE_TAG_DCI_increase_by_5 = yes }
						set_state_flag = afr_rrp_portugal_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						POR = { STATE_TAG_DCI_increase_by_5 = yes }
						set_state_flag = afr_rrp_portugal_company_headquarters
					}
				}
			}
			give_military_access = POR
			set_country_flag = afr_rrp_portugal_company_port
		}
    }
	
}

afr_rrp_prussian_company_port = {

	ai_will_do = { 
		factor = 1 
		modifier = {
			factor = 1000
			TAG = BMM
		}
	}
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = PRS
		custom_trigger_tooltip = {
			tooltip = afr_start_prs_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				PRS = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = PRS
						is_neighbor_of = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
		
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
		any_country = { has_country_flag = PRS_focus_cpb_kaabu_koba_pitstop_flag  }
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		NOT = {
			afr_prussian_company_port_trigger = yes
		}
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_german_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}		
	}
	
	complete_effect = {
		afr_company_port_effect = yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_2
		
		hidden_effect = {
			add_ideas = afr_rrp_german_company_partnership_idea
			set_afr_port_town_random_pop = yes
			if = {
				limit = { NOT = { has_country_flag = afr_rrp_special_company_partnership_flag } }
				PRS = { country_event = { days = 1 id = afr_rrp.11 } }
			}	
			add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = PRS_german_african_company_event_town
						}
					}
					random_owned_state = {
						limit = { 
							has_state_flag = PRS_german_african_company_event_town
						}
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
						if = { 
							limit = { NOT = { has_state_flag = afr_port_town } }
							set_state_flag = afr_port_town
						}
						else = {
							set_state_flag = afr_port_town_already_established
						}
						set_state_flag = afr_rrp_german_company_headquarters
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
						set_state_flag = afr_rrp_german_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					PRS = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
						set_state_flag = afr_rrp_german_company_headquarters
						set_state_flag = afr_port_town
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
					}
					PRS = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
						set_state_flag = afr_rrp_german_company_headquarters
						set_state_flag = afr_port_town
					}
					PRS = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
						set_state_flag = afr_rrp_german_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						PRS = { STATE_TAG_DCI_increase_by_2 = yes }
						set_state_flag = afr_rrp_german_company_headquarters
					}
				}
			}
			give_military_access = PRS
			set_country_flag = afr_rrp_german_company_port
		}
    }
}

afr_rrp_bremen_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = BRE
		custom_trigger_tooltip = {
			tooltip = afr_start_bre_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				BRE = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = BRE
						is_neighbor_of = ROOT
					}
				}
			}
		}
		BRE = {
			OR = {
				has_completed_focus = generic_focus_naval_dockyards_2
				has_completed_focus = generic_focus_fleet_infrastructure
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
		BRE = {
			OR = {
				has_completed_focus = generic_focus_naval_dockyards_2
				has_completed_focus = generic_focus_fleet_infrastructure
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		NOT = {
			afr_bremen_company_port_trigger = yes
		}
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_bremen_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}	
	}
	
	 complete_effect = {
		afr_company_port_effect = yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		
		hidden_effect = {
			add_ideas = afr_rrp_bremen_company_partnership_idea
			set_afr_port_town_random_pop = yes
			BRE = { 
				country_event = { days = 1 id = afr_rrp.11 } 
			}	
			add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						BRE = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_bremen_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					BRE = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						BRE = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_bremen_company_headquarters
						set_state_flag = afr_port_town
					}
					BRE = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						BRE = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_bremen_company_headquarters
						set_state_flag = afr_port_town
					}
					BRE = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						BRE = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_bremen_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						BRE = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_bremen_company_headquarters
					}
				}
			}
			set_country_flag = afr_colonial_language
			set_country_flag = afr_colonial_language_german
			give_military_access = BRE
			set_country_flag = afr_rrp_bremen_company_port
		}
    }
}

afr_rrp_hamburg_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = HAM
		custom_trigger_tooltip = {
			tooltip = afr_start_ham_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				HAM = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = HAM
						is_neighbor_of = ROOT
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = HAM_woermann_tradeport_expansion_tooltip
			HAM = { has_country_flag = HAM_woermann_tradeport_expansion_flag }
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
		
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
		HAM = { has_country_flag = HAM_woermann_tradeport_expansion_flag }
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		if = {
			limit = { NOT = { has_country_flag = HAM_negotiation_with_afr_kingdom_success_flag } }
			NOT = { afr_hamburg_company_port_trigger = yes }
		}
		else = {
			hidden_trigger = { always = no }
		}
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_hamburg_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}		
	}
	
	complete_effect = {
		afr_company_port_effect= yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		
		hidden_effect = {
			add_ideas = afr_rrp_hamburg_company_partnership_idea
			set_afr_port_town_random_pop = yes
			HAM = {
				if = {
					limit = { ROOT = { NOT = { has_country_flag = HAM_negotiation_with_afr_kingdom_success_flag } } }
					country_event = { days = 1 id = afr_rrp.11 } 
					ROOT = { give_military_access = HAM }
					add_ideas = HAM_woermann_trading_company_idea
				}
			}
			add_opinion_modifier = { target = HAM modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = HAM modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						HAM = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_hamburg_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					HAM = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						HAM = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_hamburg_company_headquarters
						set_state_flag = afr_port_town
					}
					HAM = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						HAM = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_hamburg_company_headquarters
						set_state_flag = afr_port_town
					}
					HAM = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						HAM = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_hamburg_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						HAM = { STATE_TAG_DCI_increase_by_1 = yes }
						set_state_flag = afr_rrp_hamburg_company_headquarters
					}
				}
			}
			give_military_access = HAM
			set_country_flag = afr_rrp_hamburg_company_port
		}
    }
	
}

afr_rrp_sweden_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = SWE
		custom_trigger_tooltip = {
			tooltip = afr_start_swe_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				SWE = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = SWE
						is_neighbor_of = ROOT
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = SWE_swedish_african_company_established_tooltip
			SWE = { has_country_flag = SWE_swedish_african_company_established_flag }
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
		
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		SWE = { has_country_flag = SWE_negotiation_with_afr_kingdom_started_flag }
		NOT = {
			AND = {
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				OR = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
				}
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		if = {
			limit = { NOT = { has_country_flag = SWE_negotiation_with_afr_kingdom_success_flag } }
			NOT = { afr_sweden_company_port_trigger = yes }
		}
		else = {
			hidden_trigger = { always = no }
		}
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_sweden_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}	
	}
	
	complete_effect = {
		afr_company_port_effect= yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_3
		
		hidden_effect = {
			add_ideas = afr_rrp_sweden_company_partnership_idea
			set_afr_port_town_random_pop = yes
			SWE = {
				if = {
					limit = { ROOT = { NOT = { has_country_flag = SWE_negotiation_with_afr_kingdom_success_flag } } }
					country_event = { days = 1 id = afr_rrp.11 } 
					ROOT = { give_military_access = SWE }
					add_ideas = SWE_swedish_african_company_idea
				}
			}
			add_opinion_modifier = { target = SWE modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = SWE modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_sweden_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					SWE = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_sweden_company_headquarters
						set_state_flag = afr_port_town
					}
					SWE = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_sweden_company_headquarters
						set_state_flag = afr_port_town
					}
					SWE = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_sweden_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						SWE = { STATE_TAG_DCI_increase_by_3 = yes }
						set_state_flag = afr_rrp_sweden_company_headquarters
					}
				}
			}
			set_country_flag = afr_rrp_sweden_company_port
		}
    }
	
}

afr_rrp_orange_company_port = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_kingdom_power_tooltip
			OR = {
				has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
				has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag
				has_idea = afr_post_tribal
				has_idea = afr_reforming_kingdom
				has_idea = AF_T_small_kingdom
			}
		}
		afr_start_company_trigger = yes
		country_exists = OFS
		custom_trigger_tooltip = {
			tooltip = afr_start_ofs_company_tooltip
			OR = { 
				ROOT = {
					any_owned_state = { is_coastal = yes }
				}
				OFS = { 
					is_neighbor_of = ROOT
				}
				any_country = {
					AND = {
						is_subject_of = OFS
						is_neighbor_of = ROOT
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = afr_progress_tree
					has_country_flag = afr_jihadist_tree
					has_country_flag = afr_traditional_tree
				}
				afr_is_tribal = yes
			}
			NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
		}
		
    }
	allowed = { afr_is_tribal_allowed = yes }
    visible = {
		OR = {
			has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
			has_country_flag = afr_rrp_orange_rhodesia_company_proposal_failed_flag	
		}
		afr_visible_company_trigger = yes
		NOT = { has_completed_focus = afr_generic_jihadist_jihad_way_not_thiers }
    }
	
	fire_only_once = yes

    cost = 0
	
	days_remove = 360
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	cancel_trigger = {
		if = {
			limit = { NOT = { has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag } }
			NOT = { afr_orange_company_port_trigger = yes }
		}
		else = {
			hidden_trigger = { always = no }
		}
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		add_offsite_building = { type = cotton_farm level = 1 }
		random_owned_state = {
			limit = { has_state_flag = afr_rrp_orange_company_headquarters }
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
			if = {
				limit = { NOT = { has_state_flag = afr_port_town_already_established } }
				set_afr_port_town_for_company = yes
			}
			if = {
				limit = { has_state_flag = afr_port_town_already_established }
				hidden_effect = { clr_state_flag = afr_port_town_already_established }
			}
			if = {
				limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
				hidden_effect = { 
					state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
					set_state_flag = afr_empire_politics_has_regional_development_boom_flag
					afr_empire_politics_state_gain_immigration = yes
					afr_empire_politics_state_gain_boom = yes
				}
				custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				afr_empire_state_industrisation_progress_set_to_100 = yes
			}
		}
	}
	
	complete_effect = {
		afr_company_port_effect= yes
		custom_effect_tooltip = AFR_Racial_Tension_plus_6
		
		hidden_effect = {
			add_ideas = afr_rrp_orange_company_partnership_idea
			set_afr_port_town_random_pop = yes
			OFS = {
				if = {
					limit = { ROOT = { NOT = { has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag } } }
					country_event = { days = 1 id = afr_rrp.11 } 
					ROOT = { give_military_access = OFS }
				}
			}
			add_opinion_modifier = { target = OFS modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = OFS modifier = eoanb_om_africa_trade_focus }
			ROOT = {
				if = {
					limit = {
						any_owned_state = {
							has_state_flag = afr_port_town
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							has_state_flag = afr_port_town
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_6 = yes }
						set_state_flag = afr_rrp_orange_company_headquarters
						set_state_flag = afr_port_town_already_established
					}
					OFS = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = no
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_6 = yes }
						set_state_flag = afr_rrp_orange_company_headquarters
						set_state_flag = afr_port_town
					}
					OFS = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_coastal = yes 
							is_capital = yes
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_6 = yes }
						set_state_flag = afr_rrp_orange_company_headquarters
						set_state_flag = afr_port_town
					}
					OFS = {
						diplomatic_relation = {
							country = ROOT
							relation = docking_rights
							active = yes
						}
					}
				}
				else_if = {
					limit = {
						any_owned_state = {
							is_capital = no
							is_core_of = ROOT
						} 
					}
					random_owned_state = {
						limit = { 
							is_capital = no 
							is_core_of = ROOT
						}
						SWE = { STATE_TAG_DCI_increase_by_6 = yes }
						set_state_flag = afr_rrp_orange_company_headquarters
					}
				}
				else = {
					random_owned_state = {
						limit = { is_core_of = ROOT }
						SWE = { STATE_TAG_DCI_increase_by_6 = yes }
						set_state_flag = afr_rrp_orange_company_headquarters
					}
				}
			}
			set_country_flag = afr_rrp_orange_company_port
		}
    }
	
}

afr_british_companies = {

	available = {
		has_stability > 0.5
	}
	allowed = { afr_is_tribal_allowed = yes }
	visible = {
		afr_english_company_port_trigger = yes
		NOT = {
			has_country_flag = afr_company_chosen
		}
		NOT = {
			tag = ETH
		}
		always = no
	}
	
	fire_only_once = yes

	cost = 0
	
	
	complete_effect = {
		ENG = { country_event = { days = 1 id = afr_colonial_company.1 } }
		if = {
			limit = {
				ROOT = { NOT = { has_idea = industrializing } }
			}
			custom_effect_tooltip = EDC_afr.5.t
			set_country_flag = afr_colony_industrializing
		}
		custom_effect_tooltip = afr_colonial_company_tooltip
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_3
		swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
		hidden_effect = {
			add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = ENG modifier = eoanb_om_africa_trade_focus }
			set_country_flag = afr_company_chosen
			ROOT = {
				capital_scope = { state_event = { id = afr_rrp_racial_tension_increase.3 } }
			}
		}
		
	}
	
}

afr_french_companies = {

	available = {
		has_stability > 0.5
	}
	allowed = { afr_is_tribal_allowed = yes }
	visible = {
		afr_french_company_port_trigger = yes
		NOT = {
			has_country_flag = afr_company_chosen
		}
		NOT = {
			tag = ETH
		}
		always = no
	}
	
	fire_only_once = yes

	cost = 0
	
	
	complete_effect = {
		FRA = { country_event = { days = 1 id = afr_colonial_company.1 } }
		if = {
			limit = {
				ROOT = { NOT = { has_idea = industrializing } }
			}
			custom_effect_tooltip = EDC_afr.5.t
			set_country_flag = afr_colony_industrializing
		}
		custom_effect_tooltip = afr_colonial_company_tooltip
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_3
		swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
		hidden_effect = {
			add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = FRA modifier = eoanb_om_africa_trade_focus }
			set_country_flag = afr_company_chosen
			ROOT = {
				capital_scope = { state_event = { id = afr_rrp_racial_tension_increase.3 } }
			}
		}
	}
	
}

afr_portugal_companies = {

	available = {
		has_stability > 0.5
	}
	allowed = { afr_is_tribal_allowed = yes }
	visible = {
		afr_portugal_company_port_trigger = yes
		NOT = {
			has_country_flag = afr_company_chosen
		}
		NOT = {
			tag = ETH
		}
		always = no
	}
	
	fire_only_once = yes

	cost = 0
	
	
	complete_effect = {
		POR = { country_event = { days = 1 id = afr_colonial_company.1 } }
		if = {
			limit = {
				ROOT = { NOT = { has_idea = industrializing } }
			}
			custom_effect_tooltip = EDC_afr.5.t
			set_country_flag = afr_colony_industrializing
		}
		custom_effect_tooltip = afr_colonial_company_tooltip
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_6
		swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
		hidden_effect = {
			add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = POR modifier = eoanb_om_africa_trade_focus }
			set_country_flag = afr_company_chosen
			ROOT = {
				capital_scope = { state_event = { id = afr_rrp_racial_tension_increase.6 } }
			}
		}
	}
	
}

afr_prussian_companies = {

	available = {
		has_stability > 0.5
	}
	allowed = { afr_is_tribal_allowed = yes }
	visible = {
		afr_prussian_company_port_trigger = yes
		NOT = {
			has_country_flag = afr_company_chosen
		}
		NOT = {
			tag = ETH
		}
		always = no
	}
	
	fire_only_once = yes

	cost = 0
	
	
	complete_effect = {
		PRS = { country_event = { days = 1 id = afr_colonial_company.1 } }
		if = {
			limit = {
				ROOT = { NOT = { has_idea = industrializing } }
			}
			custom_effect_tooltip = EDC_afr.5.t
			set_country_flag = afr_colony_industrializing
		}
		custom_effect_tooltip = afr_colonial_company_tooltip
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_2
		swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
		hidden_effect = {
			add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = PRS modifier = eoanb_om_africa_trade_focus }
			set_country_flag = afr_company_chosen
			ROOT = {
				capital_scope = { state_event = { id = afr_rrp_racial_tension_increase.2 } }
			}
		}
	}
	
}

afr_bremen_companies = {

	available = {
		has_stability > 0.5
	}
	allowed = { afr_is_tribal_allowed = yes }
	visible = {
		afr_bremen_company_port_trigger = yes
		NOT = {
			has_country_flag = afr_company_chosen
		}
		NOT = {
			tag = ETH
		}
		always = no
	}
	
	fire_only_once = yes

	cost = 0
	
	
	complete_effect = {
		BRE = { country_event = { days = 1 id = afr_colonial_company.1 } }
		if = {
			limit = {
				ROOT = { NOT = { has_idea = industrializing } }
			}
			custom_effect_tooltip = EDC_afr.5.t
			set_country_flag = afr_colony_industrializing
		}
		custom_effect_tooltip = afr_colonial_company_tooltip
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		swap_ideas = { add_idea = export_focus remove_idea = limited_exports }
		hidden_effect = {
			add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
			reverse_add_opinion_modifier = { target = BRE modifier = eoanb_om_africa_trade_focus }
			set_country_flag = afr_company_chosen
			ROOT = {
				capital_scope = { state_event = { id = afr_rrp_racial_tension_increase.1 } }
			}
		}
	}
	
}

afr_establish_export_company = {

	available = {
		always = no
	}
	allowed = { 
		TAG = ETH
	}

	visible = {
		always = no
		
	}
	
	fire_only_once = yes

	cost = 0
	
	complete_effect = {
		hidden_effect = { 
			set_country_flag = afr_foreign_company
			set_variable = { num_export_industries_used = 0 }
		}
	}
	
	days_remove = 120
	
	cancel_trigger = {
		NOT = { 
			afr_has_company_port_trigger = yes
		}
	}
	
	remove_effect = {
		meta_effect = {
			text = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = [afr_company_trade_good_meta]
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = [afr_company_trade_good_meta]
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = [afr_company_trade_good_meta]
						level = 1
						instant_build = yes
					}
				}
			}
			afr_company_trade_good_meta = "[THIS.afr_company_trade_good_loc]"
		}
		set_country_flag = afr_company_established
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_1
		
		hidden_effect = {
			capital_scope = { state_event = { id = afr_rrp_racial_tension_increase.1 } }
			country_event = { days = 3 id = afr_colonial_company.5 }
		}
		activate_mission = afr_export_quota
	}
}

afr_export_quota = {

	available = {
		check_variable = { num_of_export_industries > num_export_industries_used }
	}
	allowed = { 
		TAG = ETH
	}

	activation = {
		always = no	
	}
	
	selectable_mission = yes
	days_mission_timeout = 1830
	fire_only_once = yes		
	
	cancel_trigger = {
		OR = {
			hidden_trigger = {
				has_country_flag = afr_Coup_Started
			}
			NOT = { 
				afr_has_company_port_trigger = yes
			}
		}
	}
	
	days_remove = afr_fullfilled_quota?0
	remove_effect = {
		hidden_effect = {
			activate_mission = afr_export_quota
		}
	}
	
	complete_effect = {
		
		var:ROOT.company_country_var = { country_event = { days = 1 id = afr_colonial_company.6 } }
		set_variable = { afr_fullfilled_quota = days_mission_timeout@afr_export_quota }
		add_to_variable = { num_export_industries_used = 1 }
	}
	
	timeout_effect = {
	
	}
}
	
	
afr_rrp_weapon_contract = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_reforming_regional_power_tooltip
			OR = {
				has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
				has_country_flag = afr_rrp_special_company_partnership_flag
				has_idea = AF_T_small_kingdom
				has_idea = afr_reforming_kingdom
			}
		}
		afr_has_company_port_trigger = yes
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		NOT = {
			tag = ETH
		}
		afr_has_company_port_trigger = yes
		NOT = {
			has_country_flag = afr_rrp_colonial_weapon_contract_requested
		}
    }
	
	days_re_enable = 720
	
	fire_only_once = no

    cost = 0
	
	complete_effect = {
		custom_effect_tooltip = afr_colonial_weapons_contract_tooltip
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = afr_rrp_british_company_port
				}
				ENG = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_french_company_port
				}
				FRA = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_portugal_company_port
				}
				POR = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_german_company_port
				}
				PRS = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_bremen_company_port
				}
				BRE = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_hamburg_company_port
				}
				HAM = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_sweden_company_port
				}
				SWE = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
			else_if = {
				limit = {
					has_country_flag = afr_rrp_orange_company_port
				}
				OFS = { country_event = { days = 7 id = afr_rrp_weapon_contract.1 } }
			}
		}
		set_country_flag = afr_rrp_colonial_weapon_contract_requested
    }
}

afr_rrp_weapon_contract_active = {

	ai_will_do = { factor = 1 }
    available = {
		always = no
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		afr_has_company_port_trigger = yes
		has_country_flag = afr_rrp_colonial_weapon_contract_active
    }
	
	fire_only_once = no

    cost = 0
	
	days_remove = 1800
	
	cancel_trigger = {
		OR = {
			NOT = {
				afr_has_company_port_trigger = yes
			}
			NOT = {
				has_country_flag = afr_rrp_colonial_weapon_contract_active
			}
		}
	}
	
	modifier = {
		political_power_gain = -0.50
		license_infantry_eq_production_speed_factor = 0.5
	}
	
	complete_effect = {
		if = {
			limit = {
				has_country_flag = afr_rrp_british_company_port
			}
			ENG = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = afr_rrp_french_company_port
			}
			FRA = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = afr_rrp_portugal_company_port
			}
			POR = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = afr_rrp_german_company_port
			}
			PRS = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = afr_rrp_bremen_company_port
			}
			BRE = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = afr_rrp_hamburg_company_port
			}
			HAM = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}	
		else_if = {
			limit = {
				has_country_flag = afr_rrp_sweden_company_port
			}
			SWE = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = afr_rrp_orange_company_port
			}
			OFS = {
				create_production_license = {
					target = ROOT
					equipment = {
						type = infantry_equipment_rifle_1
					}
					cost_factor = 0
				}
			}
		}
	}
	
	remove_effect = {
		if = {
			limit = {
				ROOT = { has_country_flag = afr_rrp_colonial_weapon_contract_full_support }
			}
		}
		ROOT = { country_event = { id = afr_rrp_weapon_contract.5 } }
    }
}



afr_rrp_railway_line_1 = {

	ai_will_do = { factor = 1 }
    available = {
		custom_trigger_tooltip = {
			tooltip = afr_rrp_is_reforming_regional_power_tooltip
			OR = {
				has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
				has_country_flag = afr_rrp_special_company_partnership_flag
				has_idea = afr_reforming_kingdom
			}
		}
		afr_has_company_port_trigger = yes
		ROOT = { has_completed_focus = afr_Build_more_roads }
		NOT = {
			has_country_flag = afr_rrp_colonial_project_active
		}
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		NOT = {
			tag = ETH
		}
		afr_has_company_port_trigger = yes
    }
	
	fire_only_once = yes

    cost = 0
	
	cancel_trigger = {
		NOT = { afr_has_company_port_trigger = yes }
	}
	
	
	 complete_effect = {
		ROOT = { country_event = { days = 1 id = afr_rrp.1 } }
		custom_effect_tooltip = afr_colonial_effect_tooltip
		custom_effect_tooltip = AFR_Racial_Tension_plus_3
		if = {
			limit = { has_country_flag = afr_rrp_british_company_port }
			ENG = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_french_company_port }
			FRA = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_portugal_company_port }
			POR = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_german_company_port }
			PRS = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_bremen_company_port }
			BRE = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_hamburg_company_port }
			HAM = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_sweden_company_port }
			SWE = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_orange_company_port }
			OFS = { country_event = { days = 7 id = afr_rrp.2 } }
		}
		if = {
			limit = { has_country_flag = afr_rrp_usa_investments }
			if = { 
				limit = { country_exists = USA }
				USA = { country_event = { days = 7 id = afr_rrp.2 } }
			}
		}
		set_country_flag = afr_rrp_railway_line_began
		custom_effect_tooltip = afr_rrp_railway_line_began_tooltip
    }
}


afr_rrp_railway_infrastructure_construction = {

	ai_will_do = { factor = 1 }
    available = {
		if = {
			limit = { afr_is_tribal = yes }
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_reforming_regional_power_tooltip
				OR = {
					has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
					has_country_flag = afr_rrp_special_company_partnership_flag
					has_idea = afr_reforming_kingdom
				}
			}
			afr_has_company_port_trigger = yes
		}
		has_tech = iron_railways
		NOT = { has_country_flag = afr_rrp_colonial_project_active }
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		NOT = {
			tag = ETH
		}
		has_country_flag = afr_rrp_railway_line
		NOT = {
			has_country_flag =  afr_rrp_railway_infrastructure_construction_independant
		}
    }
	
	fire_only_once = yes
	
	days_remove = 720

    cost = 0
	
	cancel_trigger = {
		if = {
			limit = { afr_is_tribal = yes }
			NOT = { afr_has_company_port_trigger = yes }
		}
		else = {
			hidden_trigger = { always = no }
		}
	}
	
	complete_effect = {
		set_country_flag = afr_rrp_colonial_project_active
	}
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
			ROOT = { country_event = { days = 1 id = afr_rrp.6 } }
			custom_effect_tooltip = EDC_afr.6.t
			if = {
				limit = { has_country_flag = afr_rrp_british_company_port }
				ENG = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_french_company_port }
				FRA = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_portugal_company_port }
				POR = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_german_company_port }
				PRS = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_bremen_company_port }
				BRE = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_hamburg_company_port }
				HAM = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_sweden_company_port }
				SWE = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_orange_company_port }
				OFS = { country_event = { days = 7 id = afr_rrp.7 } }
			}
			if = {
				limit = { has_country_flag = afr_rrp_usa_investments }
				if = { 
					limit = { country_exists = USA }
					USA = { country_event = { days = 7 id = afr_rrp.7 } }
				}
			}
			if = {
				limit = {
					any_owned_state = {
						OR = {
							has_state_flag = afr_rrp_british_company_headquarters
							has_state_flag = afr_rrp_french_company_headquarters
							has_state_flag = afr_rrp_portugal_company_headquarters
							has_state_flag = afr_rrp_german_company_headquarters
							has_state_flag = afr_rrp_bremen_company_headquarters
							has_state_flag = afr_rrp_hamburg_company_headquarters
							has_state_flag = afr_rrp_sweden_company_headquarters
							has_state_flag = afr_rrp_orange_company_headquarters
						}
					}
				}
				random_owned_state = {
					limit = {
						OR = {
							has_state_flag = afr_rrp_british_company_headquarters
							has_state_flag = afr_rrp_french_company_headquarters
							has_state_flag = afr_rrp_portugal_company_headquarters
							has_state_flag = afr_rrp_german_company_headquarters
							has_state_flag = afr_rrp_bremen_company_headquarters
							has_state_flag = afr_rrp_hamburg_company_headquarters
							has_state_flag = afr_rrp_sweden_company_headquarters
							has_state_flag = afr_rrp_orange_company_headquarters
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_manpower = 250
				}
			}
			if = {
				limit = {
					all_owned_state = {
						NOT = {
							has_state_flag = afr_rrp_british_company_headquarters
							has_state_flag = afr_rrp_french_company_headquarters
							has_state_flag = afr_rrp_portugal_company_headquarters
							has_state_flag = afr_rrp_german_company_headquarters
							has_state_flag = afr_rrp_bremen_company_headquarters
							has_state_flag = afr_rrp_hamburg_company_headquarters
							has_state_flag = afr_rrp_sweden_company_headquarters
							has_state_flag = afr_rrp_orange_company_headquarters
						}
					}
				}
				capital_scope = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_manpower = 250
				}
			}
	}
}

afr_rrp_main_railway_route_construction = {

	ai_will_do = { factor = 1 }
    available = {
		if = {
			limit = { afr_is_tribal = yes }
			custom_trigger_tooltip = {
				tooltip = afr_rrp_is_reforming_regional_power_tooltip
				OR = {
					has_country_flag = afr_rrp_orange_rhodesia_company_partnership_flag
					has_country_flag = afr_rrp_special_company_partnership_flag
					has_idea = afr_reforming_kingdom
				}
			}
			afr_has_company_port_trigger = yes
		}
		AND = {
				has_tech = iron_railways
				has_tech = steam_engine
				has_tech = steam_locomotive
		}
		NOT = { has_country_flag = afr_rrp_colonial_project_active }
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		NOT = {
			tag = ETH
		}
		has_country_flag = afr_rrp_railway_infrastructure_construction
    }
	
	fire_only_once = yes
	
	days_remove = 360
	
	cancel_trigger = {
		if = {
			limit = { afr_is_tribal = yes }
			NOT = { afr_has_company_port_trigger = yes }
		}
		else = {
			hidden_trigger = { always = no }
		}
	}

    cost = 0
	
	modifier = {
		political_power_gain = -1
		MONTHLY_POPULATION = 1
	}
	
	complete_effect = {
		set_country_flag = afr_rrp_colonial_project_active
	}
	
	 remove_effect = {
		country_event = { id = afr_rrp_small_scale_railway_finished.1 }
		clr_country_flag = afr_rrp_colonial_project_active
		custom_effect_tooltip = EDC_afr_20ip
		hidden_effect = {
			country_event = { id = EDC_afr.6 hours = 1 }
			country_event = { id = EDC_afr.6 hours = 1 } 
		}
		set_country_flag = afr_rrp_main_railway_route
    }
}

afr_rrp_adopt_american_way = {

	ai_will_do = { factor = 1 }
    available = {
		has_country_flag = ACS_affiliate
		NOT = {
			has_idea = no_constitution
		}
		OR = {
			country_exists = CSA
			country_exists = USA
			any_country = {
				AND = {
					exists = yes 
					has_country_flag = ACS_colony
				}
			}
		}
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		AND = {
			has_country_flag = ACS_affiliate
			NOT = {
				has_country_flag = ACS_colony
			}
		}
    }
	
	fire_only_once = yes
	

    cost = 0
	
	complete_effect = {
		ROOT = {
			set_party_name = { 
				ideology = centrism 
				long_name = AFR_party_republican
				name = AFR_party_republican
			}
			set_party_name = { 
				ideology = traditional_conservatism
				long_name = AFR_party_democratic
				name = AFR_party_democratic
			}
			set_party_name = { 
				ideology = autocracy 
				long_name = AFR_party_monarch
				name = AFR_party_monarch 
			}
		}
		hidden_effect = {
			set_politics = {
				ruling_party = centrism
			}
			set_popularities = {
					centrism = 34
					traditional_conservatism = 33
					social_egalitarianism = 0
					collectivist_socialism = 0
					vanguard_communism = 0
					autocracy = 33
					radical_democracy = 0
					chauvinist_populism = 0
					anarchism = 0
					fundamentalism = 0
			}
		}
		country_event = {id = afr_rrp.20}
		swap_ideas = {
			remove_idea = no_elections
			add_idea = limited_elections
		}
		swap_ideas = {
			remove_idea = absolute_monarchy
			add_idea = presidential_republic
		}
		hidden_effect = {
			swap_ideas = {
				remove_idea = state_religion
				add_idea = secular_state
			}
			swap_ideas = {
				remove_idea = nonfamily_heir
				add_idea = non_monarchical_system
			}
		}
	}
}

afr_rrp_american_colonial_confederation = {

	ai_will_do = { factor = 1 }
    available = {
		has_country_flag = ACS_affiliate
		LIB = {
			exists = yes
			num_of_civilian_factories > 2
			has_completed_focus = LIB_gem_of_africa
		}
		NOT = {
			has_idea = no_constitution
		}
		NOT = {
			has_idea = no_elections
		}
		has_idea = afr_reforming_kingdom
		
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		AND = {
			has_country_flag = ACS_affiliate
			has_idea = presidential_republic
			NOT = {
				has_country_flag = ACS_colony
			}
		}
    }
	
	fire_only_once = yes

    cost = 0
	
	complete_effect = {
		if = {
			limit = {
				LIB = {
					NOT = {
						has_country_flag = american_colonial_confederation
					}
				}
			}
			LIB = { country_event={id = afr_rrp.22} }
		}
		if = {
			limit = {
				LIB = {
					has_country_flag = american_colonial_confederation
				}
			}
			LIB = { country_event={id = afr_rrp.23} }
		}
	
	}
}

}

afr_rrp_growing_regional_industry = {

#An African Inspired Industrialization
afr_rrp_an_african_inspired_industrialization_partner_decision = {

	ai_will_do = { factor = 1 }
    available = {
		if = {
			limit = { has_idea = afr_large_kingdom }
			has_idea = afr_large_kingdom
		}
		if = {
			limit = { has_idea = afr_reforming_kingdom }
			has_idea = afr_reforming_kingdom
		}
		if = {
			limit = { has_country_flag = afr_rrp_an_african_inspired_industrialization_partner_response_flag }
			custom_trigger_tooltip = {
				tooltip = afr_rrp_an_african_inspired_industrialization_partner_response_flag
				NOT = { has_country_flag = afr_rrp_an_african_inspired_industrialization_partner_response_flag }
			}
		}
		FROM = {
			has_country_flag = afr_rrp_non_colonial_industrialization
			has_opinion = {
				target = ROOT
				value > 74
			}
			custom_trigger_tooltip = {
				tooltip = afr_inward_not_subject_of_western_power
				
				NOT = {	is_subject_of = FRA }
				NOT = {	is_subject_of = ENG }
				NOT = {	is_subject_of = POR }
				NOT = {	is_subject_of = SPR }
				NOT = {	is_subject_of = HOL }
				NOT = {	is_subject_of = PRS }
				NOT = {	is_subject_of = GER }
				NOT = {	is_subject_of = HAM }
				NOT = {	is_subject_of = BRE }
				NOT = {	is_subject_of = SWE }
				NOT = {	is_subject_of = LIB }
				if={
					limit={
						is_subject = yes
					}
					NOT = { OVERLORD = { has_cosmetic_tag = PIE_focus_ITA } }
				}
				NOT = {	is_subject_of = BEL }
				NOT = {	is_subject_of = TRV }
				NOT = {	is_subject_of = OFS }
				if = {
					limit = { is_subject_of = SNG }
					SNG = { NOT = { is_subject_of = FRA } }
				}
				if = {
					limit = { is_subject_of = ALG }
					ALG = { NOT = { is_subject_of = FRA } }
				}
				if = {
					limit = { is_subject_of = SAF }
					SAF = { NOT = { is_subject_of = ENG } }
				}
				if = {
					limit = { is_subject_of = NAT }
					NAT = { NOT = { is_subject_of = ENG } }
				}
				if = {
					limit = { is_subject_of = ETH }
					ETH = { NOT = { is_subject_of = ENG } }
					ETH = { NOT = { is_subject_of = FRA } }
					ETH = { NOT = { is_subject_of = POR } }
					ETH = { NOT = { is_subject_of = GER } }
					ETH = { NOT = { is_subject_of = PRS } }
				}
			}
		}
		ROOT = {
			custom_trigger_tooltip = {
				tooltip = afr_inward_not_subject_of_western_power
				
				NOT = {	is_subject_of = FRA }
				NOT = {	is_subject_of = ENG }
				NOT = {	is_subject_of = POR }
				NOT = {	is_subject_of = SPR }
				NOT = {	is_subject_of = HOL }
				NOT = {	is_subject_of = PRS }
				NOT = {	is_subject_of = GER }
				NOT = {	is_subject_of = HAM }
				NOT = {	is_subject_of = BRE }
				NOT = {	is_subject_of = SWE }
				NOT = {	is_subject_of = LIB }
				if={
					limit={
						is_subject = yes
					}
					NOT = { OVERLORD = { has_cosmetic_tag = PIE_focus_ITA } }
				}
				NOT = {	is_subject_of = BEL }
				NOT = {	is_subject_of = TRV }
				NOT = {	is_subject_of = OFS }
				if = {
					limit = { is_subject_of = SNG }
					SNG = { NOT = { is_subject_of = FRA } }
				}
				if = {
					limit = { is_subject_of = ALG }
					ALG = { NOT = { is_subject_of = FRA } }
				}
				if = {
					limit = { is_subject_of = SAF }
					SAF = { NOT = { is_subject_of = ENG } }
				}
				if = {
					limit = { is_subject_of = NAT }
					NAT = { NOT = { is_subject_of = ENG } }
				}
				if = {
					limit = { is_subject_of = ETH }
					ETH = { NOT = { is_subject_of = ENG } }
					ETH = { NOT = { is_subject_of = FRA } }
					ETH = { NOT = { is_subject_of = POR } }
					ETH = { NOT = { is_subject_of = GER } }
					ETH = { NOT = { is_subject_of = PRS } }
				}
			}
		}
		has_stability > 0.6
		NOT = {
			has_country_flag = afr_rrp_company_port
		}
		custom_trigger_tooltip = {
			tooltip = afr_inspired_industrialization_in_close_proximity
			OR = {
				ROOT = { is_neighbor_of = FROM }
				ROOT = { is_in_faction_with = FROM }
				any_country = {
					AND = {
						is_neighbor_of = FROM
						is_in_faction_with = ROOT
					}
				}
				any_country = {
					AND = {
						is_neighbor_of = FROM
						is_subject_of = ROOT
					}
				}
				any_country = {
					AND = {
						is_neighbor_of = ROOT
						is_in_faction_with = FROM
					}
				}
				any_country = {
					AND = {
						is_neighbor_of = ROOT
						is_subject_of = FROM
					}
				}
			}
		}
    }
	allowed = { 
		TAG = ETH
	}

    visible = {
		NOT = {
			TAG = ETH
			TAG = EGY
			TAG = ZUL
		}
		NOT = {
			has_country_flag = afr_rrp_company_port
		}
		NOT = { has_country_flag = afr_an_african_industrializing }
    }
	
	target_trigger = {
		FROM = {
			has_country_flag = afr_rrp_non_colonial_industrialization
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = afr_inward_not_subject_of_western_power
				
				NOT = {	is_subject_of = FRA }
				NOT = {	is_subject_of = ENG }
				NOT = {	is_subject_of = POR }
				NOT = {	is_subject_of = SPR }
				NOT = {	is_subject_of = HOL }
				NOT = {	is_subject_of = PRS }
				NOT = {	is_subject_of = GER }
				NOT = {	is_subject_of = HAM }
				NOT = {	is_subject_of = BRE }
				NOT = {	is_subject_of = SWE }
				NOT = {	is_subject_of = LIB }
				if={
					limit={
						is_subject = yes
					}
					NOT = { OVERLORD = { has_cosmetic_tag = PIE_focus_ITA } }
				}
				NOT = {	is_subject_of = BEL }
				NOT = {	is_subject_of = TRV }
				NOT = {	is_subject_of = OFS }
				if = {
					limit = { is_subject_of = SNG }
					SNG = { NOT = { is_subject_of = FRA } }
				}
				if = {
					limit = { is_subject_of = ALG }
					ALG = { NOT = { is_subject_of = FRA } }
				}
				if = {
					limit = { is_subject_of = SAF }
					SAF = { NOT = { is_subject_of = ENG } }
				}
				if = {
					limit = { is_subject_of = NAT }
					NAT = { NOT = { is_subject_of = ENG } }
				}
				if = {
					limit = { is_subject_of = ETH }
					ETH = { NOT = { is_subject_of = ENG } }
					ETH = { NOT = { is_subject_of = FRA } }
					ETH = { NOT = { is_subject_of = POR } }
					ETH = { NOT = { is_subject_of = GER } }
					ETH = { NOT = { is_subject_of = PRS } }
				}
			}
		}
	}
	
	fire_only_once = yes

    cost = 250
	
	complete_effect = {
		FROM = { country_event = { id = afr_rrp_an_african_inspired_industrialization_partner_event.1 days = 5 } }
		set_country_flag = afr_rrp_an_african_inspired_industrialization_partner_response_flag
	}
}

afr_rrp_railway_infrastructure_construction_independant_decision = {

	ai_will_do = { factor = 1 }
    available = {
		has_stability > 0.65
		custom_trigger_tooltip = {
			tooltip = Oceania_industrisation_progress_greater_than_45
			check_variable = {ROOT.industrisation_progress > 44}
		}
		has_tech = iron_railways
		NOT = {
			has_country_flag = afr_rrp_company_port
		}
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		has_country_flag = afr_an_african_industrializing
		NOT = {
			has_country_flag = afr_rrp_company_port
		}
		always = no
    }
	
	fire_only_once = yes
	
	days_remove = 720

    cost = 0
	
	complete_effect = {
		set_country_flag = afr_rrp_colonial_project_active
		if = {
			limit = {
				NOT = {
					has_idea = AF_T_idea_trading_nation_2
				}
			}
			add_ideas =  AF_T_idea_trading_nation_2 
		}
		set_country_flag = afr_an_african_industrializing
	}
	
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
			clr_country_flag = afr_rrp_colonial_project_active
			ROOT = { country_event = { days = 1 id = afr_rrp.6 } }
			set_country_flag = afr_rrp_railway_infrastructure_construction_independant
			custom_effect_tooltip = EDC_afr.6.t
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
	}
}

afr_rrp_main_railway_route_construction_independant = {

	ai_will_do = { factor = 1 }
    available = {
		has_idea = afr_reforming_kingdom
		has_stability > 0.60
		NOT = {
			tag = ETH
		}
		AND = {
				has_tech = iron_railways
				has_tech = steam_engine
				has_tech = steam_locomotive
		}
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		NOT = {
			tag = ETH
		}
		has_country_flag = afr_rrp_railway_infrastructure_construction_independant
    }
	
	fire_only_once = yes
	
	days_remove = 720

    cost = 0
	
	complete_effect = {
		set_country_flag = afr_rrp_colonial_project_active
	}
	
	 remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
			clr_country_flag = afr_rrp_colonial_project_active
			custom_effect_tooltip = EDC_afr_20ip
			hidden_effect = {
				country_event = { id = EDC_afr.6 hours = 1 }
				country_event = { id = EDC_afr.6 hours = 1 } 
			}
			add_ideas = { AF_T_small_scale_railways }
			set_country_flag = afr_rrp_main_railway_route
    }
}

afr_rrp_factory_construction = {

	ai_will_do = { factor = 1 }
    available = {
		Root = {
			OR = {
				has_idea = AF_T_small_kingdom
				has_idea = afr_reforming_kingdom
			}
		}
		has_stability > 0.65
		has_idea = AF_T_small_scale_railways
		NOT = {
			tag = ETH
		}
		OR = { 
			ROOT = {
				any_owned_state = { is_coastal = yes }
			}
			any_neighbor_country = { 
				NOT = {
					has_idea = pre_industrial_era
				}
			}
			AND = {
				if={
					limit={
						is_subject = yes
					}
					OVERLORD = {
						NOT = {
							has_idea = pre_industrial_era
						}
					}
				}
			}
		}
    }
	allowed = { afr_is_tribal_allowed = yes }

    visible = {
		NOT = {
			tag = ETH
		}
		has_idea = afr_reforming_kingdom
    }
	
	fire_only_once = yes
	
	days_remove = 180

    cost = 0
	
	modifier = {
		political_power_gain = -1
		research_speed_factor = 0.4
    }
	
	complete_effect = {
		set_country_flag = afr_rrp_colonial_project_active
	}
	
	remove_effect = {
		clr_country_flag = afr_rrp_colonial_project_active
		set_country_flag = afr_rrp_factory_construction
		custom_effect_tooltip = EDC_afr.5.t
		hidden_effect = {
			country_event = { id = EDC_afr.5 hours = 1 } 
		}
    }
}

}

afr_suez_construction ={
	EGY_dedicate_military_workers = {
		icon = generic_construction

		allowed = { always = yes }
		available = {
			check_variable = {
				var = EGY.suez_inprogress_total
				value = EGY.suez_progress_max
				compare = less_than
			}
			has_manpower > 999
		}
		visible={
			has_country_flag = suez_constructor
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 0
		ai_will_do = {
			factor = 100
		}
		modifier = {
			political_power_gain = -0.05
		}
		days_remove = 240
		cancel_trigger = {
			check_variable = {
				var = EGY.suez_progress
				value = EGY.suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = { 
				limit = {
					check_variable = {
						var = EGY.suez_progress
						value = EGY.suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {EGY.suez_progress = 2}
				add_to_variable = {suez_investment = 2}
				clamp_variable = {
					var = EGY.suez_progress
					min = 0
					max = EGY.suez_progress_max
				}
			}
			add_to_variable = {EGY.suez_inprogress = -2}
			add_manpower = 1000
		}
		complete_effect = {
			##increase suez progress
			add_manpower = -1000
			add_to_variable = {EGY.suez_inprogress = 2}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_2
		}
	}
	EGY_corvee_workers_alexandria = {
		icon = generic_construction
		fixed_random_seed = no
		available = {
			check_variable = {
				var = suez_inprogress_total
				value = suez_progress_max
				compare = less_than
			}
			447={
				state_population > 9999
			}
			has_stability > 0.20
			NOT={has_country_flag= EGY_corvee_suez_disabled}
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			NOT={has_country_flag= EGY_corvee_suez_disabled}
			has_country_flag = suez_constructor
			tag = EGY
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 0
		ai_will_do = {
			factor = 100
		}
		modifier = {
			political_power_gain = -0.02
			stability_factor = -0.025
		}
		days_remove = 240
		cancel_trigger = {
			check_variable = {
				var = suez_progress
				value = suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = {
				limit = {
					check_variable = {
						var = suez_progress
						value = suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {suez_progress = 2}
				add_to_variable = {suez_investment = 2}
				clamp_variable = {
					var = suez_progress
					min = 0
					max = suez_progress_max
				}
			}
			add_to_variable = {suez_inprogress = -2}
			447={
				add_manpower = 10000
			}
		}
		complete_effect = {
			##increase suez progress
			
			447={
				add_manpower = -10000
				EGY_corvee_random_effects = yes
			}
			add_to_variable = {suez_inprogress = 2}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_2
		}
	}
	EGY_corvee_workers_aswan = {
		icon = generic_construction
		fixed_random_seed = no
		available = {
			check_variable = {
				var = suez_inprogress_total
				value = suez_progress_max
				compare = less_than
			}
			456={
				state_population > 9999
			}
			has_stability > 0.2
			NOT={has_country_flag= EGY_corvee_suez_disabled}
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			NOT={has_country_flag= EGY_corvee_suez_disabled}
			has_country_flag = suez_constructor
			tag = EGY
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 0
		ai_will_do = {
			factor = 100
		}
		modifier = {
			political_power_gain = -0.02
			stability_factor = -0.025
		}
		days_remove = 240
		cancel_trigger = {
			check_variable = {
				var = suez_progress
				value = suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = { 
				limit = {
					check_variable = {
						var = suez_progress
						value = suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {suez_progress = 2}
				add_to_variable = {suez_investment = 2}
				clamp_variable = {
					var = suez_progress
					min = 0
					max = suez_progress_max
				}
			}
			add_to_variable = {suez_inprogress = -2}
			456={
				add_manpower = 10000
			}
		}
		complete_effect = {
			##increase suez progress
			456={
				add_manpower = -10000
				EGY_corvee_random_effects = yes
			}
			add_to_variable = {suez_inprogress = 2}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_2
		}
	}
	EGY_corvee_workers_cairo = {
		icon = generic_construction
		fixed_random_seed = no
		available = {
			check_variable = {
				var = suez_inprogress_total
				value = suez_progress_max
				compare = less_than
			}
			446={
				state_population > 9999
			}
			has_stability > 0.2
			NOT={has_country_flag= EGY_corvee_suez_disabled}
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			NOT={has_country_flag= EGY_corvee_suez_disabled}
			has_country_flag = suez_constructor
			tag= EGY
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 0
		ai_will_do = {
			factor = 100
		}
		modifier = {
			political_power_gain = -0.02
			stability_factor = -0.025
		}
		days_remove = 240
		cancel_trigger = {
			check_variable = {
				var = suez_progress
				value = suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = {
				limit = {
					check_variable = {
						var = suez_progress
						value = suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {suez_inprogress = -2}
				clamp_variable = {
					var = suez_progress
					min = 0
					max = suez_progress_max
				}
			}
			add_to_variable = {suez_progress = 2}
			add_to_variable = {suez_investment = 2}
			446={
				add_manpower = 10000
			}
		}
		complete_effect = {
			##increase suez progress
			446={
				add_manpower = -10000
				EGY_corvee_random_effects = yes
			}
			add_to_variable = {suez_inprogress = 2}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_2
		}
	}
	EGY_dedicate_industrial_power = {
		icon = generic_construction
		allowed = { always = yes }
		available = {
			has_country_flag = suez_constructor
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
			check_variable = {
				var = EGY.suez_inprogress_total
				value = EGY.suez_progress_max
				compare = less_than
			}
			num_of_civilian_factories_available_for_projects > 1
		}
		visible={
			has_country_flag = suez_constructor
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 0
		ai_will_do = {
			factor = 100
		}
		modifier = {
			civilian_factory_use = 2
		}
		days_remove = 240
		days_re_enable = 10
		cancel_trigger = {
			check_variable = {
				var = EGY.suez_progress
				value = EGY.suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = {
				limit = {
					check_variable = {
						var = EGY.suez_progress
						value = EGY.suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {EGY.suez_progress = 2}
				add_to_variable = {suez_investment = 2}
				clamp_variable = {
					var = EGY.suez_progress
					min = 0
					max = EGY.suez_progress_max
				}
			}
			add_to_variable = {EGY.suez_inprogress = -2}
		}
		complete_effect = {
			##increase suez progress
			add_to_variable = {EGY.suez_inprogress = 2}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_2
		}
	}
	EGY_prepare_the_site = {
		icon = generic_construction
		available = {
			has_manpower > 999
			tag = EGY
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			NOT={has_country_flag = suez_constructor}
			has_variable = suez_progress
			tag = EGY
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 10
		ai_will_do = {
			factor = 100
		}
		modifier = {
			political_power_gain = -0.05
		}
		days_remove = 240
		fire_only_once = yes
		cancel_trigger = {
			check_variable = {
				var = suez_progress
				value = suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = {
				limit = {
					check_variable = {
						var = suez_progress
						value = suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = { EGY.suez_progress = 2}
				add_to_variable = {suez_investment = 2}
				clamp_variable = {
					var = suez_progress
					min = 0
					max = suez_progress_max
				}
				749={
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			add_to_variable = {EGY.suez_inprogress = -2}
			add_manpower = 1000
		}
		complete_effect = {
			##increase suez progress
			add_manpower = -1000
			add_to_variable = {EGY.suez_inprogress = 2}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_2
		}
	}
	EGY_build_northern_harbor = {
		icon = generic_construction
		available = {
			has_manpower > 3999
			tag = EGY
			check_variable = {
				var = suez_inprogress_total
				value = suez_progress_max
				compare = less_than
			}
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			has_country_flag = suez_constructor
			has_variable = suez_progress
			tag = EGY
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 100
		ai_will_do = {
			factor = 100
		}
		days_remove = 480
		fire_only_once = yes
		cancel_trigger = {
			check_variable = {
				var = suez_progress
				value = suez_progress_max
				compare = greater_than_or_equals
			}
		}
		remove_effect = {
			##increase suez progress
			if = { 
				limit = {
					check_variable = {
						var = suez_progress
						value = suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {EGY.suez_progress = 5}
				add_to_variable = {suez_investment = 5}
				clamp_variable = {
					var = suez_progress
					min = 0
					max = suez_progress_max
				}
				749={
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12049
						instant_build = yes
					}
				}
			}
			add_to_variable = {EGY.suez_inprogress = -5}
			add_manpower = 4000
		}
		complete_effect = {
			##increase suez progress
			add_manpower = -4000
			add_to_variable = {EGY.suez_inprogress = 5}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_5
		}
	}
	EGY_build_southern_harbor = {
		icon = generic_construction
		available = {
			has_manpower > 3999
			tag = EGY
			check_variable = {
				var = suez_inprogress_total
				value = suez_progress_max
				compare = less_than
			}
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			has_country_flag = suez_constructor
			has_variable = suez_progress
			tag = EGY
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 100
		ai_will_do = {
			factor = 100
		}
		days_remove = 480
		fire_only_once = yes
		cancel_trigger = {
			check_variable = {
				var = suez_progress
				value = suez_progress_max
				compare = greater_than_or_equals
			}
		}
		
		remove_effect = {
			##increase suez progress
			if = {
				limit = {
					check_variable = {
						var = suez_progress
						value = suez_progress_max
						compare = less_than
					}
				}
				add_to_variable = {EGY.suez_progress = 5}
				add_to_variable = {suez_investment = 5}
				clamp_variable = {
					var = suez_progress
					min = 0
					max = suez_progress_max
				}
				749={
					add_building_construction = {
						type = naval_base
						level = 2
						province = 12049
						instant_build = yes
					}
				}
			}
			add_to_variable = {suez_inprogress = -5}
			add_manpower = 4000
		}
		complete_effect = {
			##increase suez progress
			add_manpower = -4000
			add_to_variable = {EGY.suez_inprogress = 5}
			set_variable = { EGY.suez_inprogress_total = EGY.suez_progress }
			add_to_variable = { EGY.suez_inprogress_total = EGY.suez_inprogress }
			custom_effect_tooltip = EGY_suez_construct_5
		}
	}
	EGY_open_the_canal = {
		icon = generic_operation
		available = {
			tag = EGY
			custom_trigger_tooltip = {
				tooltip=suez_canal_completed
				check_variable = {
					var = EGY.suez_progress
					value = EGY.suez_progress_max
					compare = greater_than_or_equals
				}
			}
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
		}
		cost = 10
		ai_will_do = {
			factor = 100
		}
		#days_remove = 240
		complete_effect = {
			##increase suez progress
			set_global_flag = SUEZ_CANAL_BUILT
			EGY = { news_event ={id = afr_EGY_vic.20}}
		}
	}
	FRA_suez_processing_of_the_report = {
		icon = generic_political_discourse
		allowed = {
			tag = FRA
		}
		available = {
			has_country_flag = suez_constructor
			#date < 1870.01.01
		}
		activation = {
			EGY={has_variable = suez_progress}
			date < 1870.01.01
		}
		Is_good = yes
		days_mission_timeout = 702
		#fire_only_once = yes
		timeout_effect = {
			FRA = {country_event = {id=afr_EGY_vic.22}}
		}

		complete_effect = {
			#add_political_power = 1337
		}
	}
	EGY_block_the_canal = {
		icon = generic_operation
		allowed = { always = yes }
		available = {
			controls_state = 749
			NOT={has_global_flag = SUEZ_CANAL_BLOCKED}
		}
		visible={
			owns_state = 749
			has_global_flag = SUEZ_CANAL_BUILT
		}
		cost = 10
		ai_will_do = {
			factor = 0
		}
		days_remove = 240
		remove_effect = {
			##block the canal
			set_global_flag = SUEZ_CANAL_BLOCKED
			#EGY = { news_event ={id = afr_EGY_vic.20}}
		}
	}
	EGY_un_block_the_canal = {
		icon = generic_operation
		allowed = { always = yes }
		available = {
			controls_state = 749
			has_global_flag = SUEZ_CANAL_BLOCKED
		}
		visible={
			owns_state = 749
			has_global_flag = SUEZ_CANAL_BUILT
		}
		cost = 10
		ai_will_do = {
			factor = 0
		}
		days_remove = 240
		remove_effect = {
			##block the canal
			clr_global_flag = SUEZ_CANAL_BLOCKED
			#EGY = { news_event ={id = afr_EGY_vic.20}}
		}
		modifier = {
			civilian_factory_use = 2
		}
	}
	EGY_invite_ETH_to_invest = {
		icon = generic_operation
		available = {
			has_country_flag = suez_constructor
			
		}
		allowed = { 
			TAG = EGY
		}
		visible={
			has_country_flag = ETH_EGY_alliance
			NOT = {has_global_flag = SUEZ_CANAL_BUILT}
			check_variable = {
				var = EGY.suez_inprogress_total
				value = EGY.suez_progress_max
				compare = less_than
			}
		}
		cost = 10
		ai_will_do = {
			factor = 100
		}
		#days_remove = 240
		complete_effect = {
			##increase suez progress
			#set_global_flag = SUEZ_CANAL_BUILT ##WHAT THE FUCK COGG, WHY ARE YOU INSTANTLY FINISHING THE CANAL FROM INVITING ETH?
			ETH = { news_event ={id = afr_EGY_vic.26}}
		}
	}

}

eoanb_category_diplomatic_actions={
	OTO_grant_romanian_union={
		available = {  
			tag = OTO
			MOL={
				has_autonomy_state = autonomy_personal_union
				is_subject_of = ROM
			}
		}
		allowed = { 
			TAG = OTO
		}
		visible={
			tag = OTO
			MOL={has_autonomy_state = autonomy_personal_union}
			NOT={
				ROM={
					has_country_flag = ROM_union_allowed
				}
			}
		}
        cost = 25
        fire_only_once = yes
        complete_effect = {
			ROM={
				set_country_flag = ROM_union_allowed
			}
		}
		ai_will_do = {
			factor = 100
			modifier = {#not before historical date
				factor = 0
				date > 1861.12.23
			}
		}
	
	}
	
	EGY_ETH_war_for_gedaref={
		allowed = { tag = EGY }    
		available = {                          
			controls_state = 817
		}
		activation = { 
			always = no # activate via event
		}
		is_good = yes
		days_mission_timeout = 150  
		timeout_effect = {
			white_peace = ETH
			add_political_power = -50
		}
		complete_effect = {
			white_peace = ETH
			transfer_state = 817
		}
	}
}

afr_berlin_conference={
	ber_voting_decision={
		allowed={
			always = yes
		}
		target_trigger = {
			FROM = {
				#is in the conferance and is colonial
				#has_country_flag = berlin_conferance_voter
				has_idea = afr_colonial_power
				
				OR={#land locked regions require access
					UCT={check_variable = {current_region_conferance_vote < 18}}#coastal ones are fine
					AND={#Uganda
						UCT={check_variable = {current_region_conferance_vote = 18}}
						OR={
							has_country_flag = BC_Granted_Kenya
							has_country_flag = BC_Granted_Zanzabar
							has_country_flag = BC_Granted_Kongo
							owns_state = 845
						}
					}
					AND={#Rhodesia/Zimbabwe + Zambia
						UCT={check_variable = {current_region_conferance_vote = 19}}
						OR={
							has_country_flag = BC_Granted_Zanzabar
							has_country_flag = BC_Granted_Angola
							has_country_flag = BC_Granted_Nambia
							has_country_flag = BC_Granted_Kongo
							owns_state = 542
							owns_state = 841
							owns_state = 1143
							owns_state = 823
							owns_state = 544
							owns_state = 542
							tag = ENG
						}
					}
					AND={#Central africa
						UCT={check_variable = {current_region_conferance_vote = 20}}
						OR={
							has_country_flag = BC_Granted_Equatorial_Africa
							has_country_flag = BC_Granted_Kongo
							has_country_flag = BC_Granted_Gabon
							has_country_flag = BC_Granted_Kongo
							owns_state = 832 #Sudan
							owns_state = 833		
						}
					}
					AND={#Mali
						UCT={check_variable = {current_region_conferance_vote = 21}}
						OR={
							has_country_flag = BC_Granted_Senegal
							has_country_flag = BC_Granted_Manuritania
							has_country_flag = BC_Granted_Guinea
							has_country_flag = BC_Granted_Ivory_Coast
							owns_state = 514	#Algeria	
						}
					}
					AND={#Niger
						UCT={check_variable = {current_region_conferance_vote = 22}}
						OR={
							has_country_flag = BC_Granted_Mali
							has_country_flag = BC_Granted_Nigeria
							has_country_flag = BC_Granted_Benin
							owns_state = 514	#Algeria	
							owns_state = 273	#Libya	
						}
					}
					AND={#Bukina Faso
						UCT={check_variable = {current_region_conferance_vote = 23}}
						OR={
							has_country_flag = BC_Granted_Ivory_Coast
							has_country_flag = BC_Granted_Ghana
							has_country_flag = BC_Granted_Togo
							has_country_flag = BC_Granted_Benin
							has_country_flag = BC_Granted_Niger
							has_country_flag = BC_Granted_Mali
						}
					}
					AND={#Chad
						UCT={check_variable = {current_region_conferance_vote = 24}}
						OR={
							has_country_flag = BC_Granted_Central_Africa
							has_country_flag = BC_Granted_Niger
							has_country_flag = BC_Granted_Equatorial_Africa
							owns_state = 832	#Sudan
							owns_state = 1191	#
						}
					}
						
				}
			}
        }
		available = {
			has_country_flag = berlin_conferance_voting
		}
        #cost = 50
        #fire_only_once = yes
        complete_effect = {
            #add_manpower = -500
			if={
				limit={
					has_country_flag = berlin_conferance_voting
				}
				clr_country_flag = berlin_conferance_voting
				UCT = {
					add_to_variable = { conferance_vote_@FROM = 1}
					add_to_variable = { afr_number_of_votes_in_the_conference = 1}
					if={
						limit={
							check_variable = {
								var = afr_number_of_votes_in_the_conference 
								value = berlin_conferance_voters^num 
								compare = greater_than_or_equals
							}
						}
						country_event={id=EDC_berlin_con.16 days =1}
					}
				}
			}
        }
		ai_will_do = {
			base = 16
			##encorage ai to vote historically
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 1}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 2}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 3}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 4}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 5}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 6}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 7}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 8}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 9}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 10}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 11}
					}
				}
			}
			modifier = { 
				add = 20
				is_historical_focus_on = no
				FROM = {
					TAG = POR
					UCT = {
						check_variable = { current_region_conferance_vote = 13}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 14}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 15}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 16}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					OR={
						TAG = ITA
						TAG = PIE
					}
					UCT = {
						check_variable = { current_region_conferance_vote = 17}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 18}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 19}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 20}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 21}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 22}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 23}
					}
				}
			}
			modifier = { 
				add = 2.5
				is_historical_focus_on = no
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 24}
					}
				}
			}
			modifier = { #spain is in no posistion to colonise
				add = -3
				is_historical_focus_on = no
				FROM = {
					TAG = SPR
					NOT={has_country_flag = SPR_serious_colonial_contendor}
				}
			}
			
			#encorage ai to vote for historical claims 
			modifier = { #germany wants gabon
				add = 1
				is_historical_focus_on = no
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 11}
					}
				}
			}
			modifier = { #belgium wants guinea
				add = 1
				is_historical_focus_on = no
				FROM = {
					TAG = BEL
					UCT = {
						check_variable = { current_region_conferance_vote = 3}
					}
				}
			}
			modifier = { #portugal pink map
				add = 1
				is_historical_focus_on = no
				FROM = {
					TAG = POR
					UCT = {
						check_variable = { current_region_conferance_vote = 19}
					}
				}
			}
			modifier = { #A-H wants the horn
				add = 1
				is_historical_focus_on = no
				FROM = {
					TAG = AUS
					UCT = {
						check_variable = { current_region_conferance_vote = 17}
					}
				}
			}
			modifier = { #Russia wants the horn
				add = 1
				is_historical_focus_on = no
				FROM = {
					TAG = RUS
					UCT = {
						check_variable = { current_region_conferance_vote = 17}
					}
				}
			}
			modifier = { #Sweden kinda wants ghana
				add = 0.5
				is_historical_focus_on = no
				FROM = {
					TAG = SWE
					UCT = {
						check_variable = { current_region_conferance_vote = 6}
					}
				}
			}
			modifier = { #Sweden wants congo
				add = 2 #note add is doubled because BEL gets a factor rather than a add
				is_historical_focus_on = no
				FROM = {
					TAG = SWE
					UCT = {
						check_variable = { current_region_conferance_vote = 12}
					}
				}
			}
			modifier = { #germany wants congo
				add = 1 #note add is doubled because BEL gets a factor rather than a add
				is_historical_focus_on = no
				FROM = {
					TAG = RUS
					UCT = {
						check_variable = { current_region_conferance_vote = 12}
					}
				}
			}
			
			modifier = {#vote for countries you like
				factor = 1.5
				has_opinion = {
					target = FROM
					value > 100
				}	
			}
			modifier = { 
				factor = 3
				is_historical_focus_on = no
				FROM = {
					TAG = BEL
					UCT = {
						check_variable = { current_region_conferance_vote = 12}
					}
				}
			}
			modifier = {#weighted to vote for countries that already own land
				factor = 3
				FROM = {
					OR={
						afr_ber_check_if_owns_colonial_state = yes
						any_country={
							is_subject_of = FROM
							afr_ber_check_if_owns_colonial_state = yes
						}
					}
				}
			}
			modifier = {#weighted towards GP
				factor = 1.5
				FROM = {
					is_great_power = yes
				}
			}
			modifier = { #Congo Free state basically already exists, give to belgium
				factor = 100
				is_historical_focus_on = no
				FROM = {
					TAG = BEL
				}
				check_variable = {UCT.current_region_conferance_vote = 12}
			}
			modifier = { #Congo Free state basically already exists, penalise
				factor = 0.1
				is_historical_focus_on = no
				FROM = {
					NOT = {tag = BEL}
				}
				UCT = {
					check_variable = { current_region_conferance_vote = 12}
				}
			}
			modifier = {#avoid nations you hate
				factor = 0.8
				has_opinion = {
					target = FROM
					value < 0
				}	
			}

			##historical weights
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
				}
				UCT = {
					check_variable = { current_region_conferance_vote = 1}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 2}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 3}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 4}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 5}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 6}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 7}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 8}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 9}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 10}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 11}
					}
				}
			}
			modifier = { 
				factor = 100
				is_historical_focus_on = yes
				FROM = {
					TAG = BEL
					UCT = {
						check_variable = { current_region_conferance_vote = 12}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = POR
					UCT = {
						check_variable = { current_region_conferance_vote = 13}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 14}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 15}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 16}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					OR={
						TAG = ITA
						TAG = PIE
					}
					UCT = {
						check_variable = { current_region_conferance_vote = 17}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 18}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 19}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 20}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 21}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 22}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 23}
					}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				FROM = {
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 24}
					}
				}
			}
		}
	}
	ber_voting_decision_self={
		available = {
			has_country_flag = berlin_conferance_voter
			has_country_flag = berlin_conferance_voting
			has_idea = afr_colonial_power
			OR={#land locked regions require access
					UCT={check_variable = {current_region_conferance_vote < 18}}#coastal ones are fine
					AND={#Uganda
						UCT={check_variable = {current_region_conferance_vote = 18}}
						OR={
							has_country_flag = BC_Granted_Kenya
							has_country_flag = BC_Granted_Zanzabar
							has_country_flag = BC_Granted_Kongo
							owns_state = 845
						}
					}
					AND={#Rhodesia/Zimbabwe + Zambia
						UCT={check_variable = {current_region_conferance_vote = 19}}
						OR={
							has_country_flag = BC_Granted_Zanzabar
							has_country_flag = BC_Granted_Angola
							has_country_flag = BC_Granted_Nambia
							has_country_flag = BC_Granted_Kongo
							owns_state = 542
							owns_state = 841
							owns_state = 1143
							owns_state = 823
							owns_state = 544
							owns_state = 542
							tag = ENG
						}
					}
					AND={#Central africa
						UCT={check_variable = {current_region_conferance_vote = 20}}
						OR={
							has_country_flag = BC_Granted_Equatorial_Africa
							has_country_flag = BC_Granted_Kongo
							has_country_flag = BC_Granted_Gabon
							has_country_flag = BC_Granted_Kongo
							owns_state = 832 #Sudan
							owns_state = 833		
						}
					}
					AND={#Mali
						UCT={check_variable = {current_region_conferance_vote = 21}}
						OR={
							has_country_flag = BC_Granted_Senegal
							has_country_flag = BC_Granted_Manuritania
							has_country_flag = BC_Granted_Guinea
							has_country_flag = BC_Granted_Ivory_Coast
							owns_state = 514	#Algeria	
						}
					}
					AND={#Niger
						UCT={check_variable = {current_region_conferance_vote = 22}}
						OR={
							has_country_flag = BC_Granted_Mali
							has_country_flag = BC_Granted_Nigeria
							has_country_flag = BC_Granted_Benin
							owns_state = 514	#Algeria	
							owns_state = 273	#Libya	
						}
					}
					AND={#Bukina Faso
						UCT={check_variable = {current_region_conferance_vote = 23}}
						OR={
							has_country_flag = BC_Granted_Ivory_Coast
							has_country_flag = BC_Granted_Ghana
							has_country_flag = BC_Granted_Togo
							has_country_flag = BC_Granted_Benin
							has_country_flag = BC_Granted_Niger
							has_country_flag = BC_Granted_Mali
						}
					}
					AND={#Chad
						UCT={check_variable = {current_region_conferance_vote = 24}}
						OR={
							has_country_flag = BC_Granted_Central_Africa
							has_country_flag = BC_Granted_Niger
							has_country_flag = BC_Granted_Equatorial_Africa
							owns_state = 832	#Sudan
							owns_state = 1191	#
						}
					}
						
				}
          }
          #cost = 50
          #fire_only_once = yes
          complete_effect = {
			#add_manpower = -500
			clr_country_flag = berlin_conferance_voting
			UCT = {
				add_to_variable = {conferance_vote_@ROOT = 1}
				add_to_variable = {afr_number_of_votes_in_the_conference = 1}
				if={
					limit={
						check_variable = {
							var = afr_number_of_votes_in_the_conference 
							value = berlin_conferance_voters^num 
							compare = greater_than_or_equals
						}
					}
					country_event={id=EDC_berlin_con.16 days =1}
				}
			}
          }
		  ai_will_do = { 
			base = 16
			modifier = {
				factor = 5
				OR={
					afr_ber_check_if_owns_colonial_state = yes
					any_country={
						is_subject_of = PREV
						afr_ber_check_if_owns_colonial_state = yes
					}
				}
			}
			##historical weights
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				TAG = FRA
				UCT = {
					check_variable = { current_region_conferance_vote = 1}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				TAG = FRA
				UCT = {
					check_variable = { current_region_conferance_vote = 2}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				TAG = FRA
				UCT = {
					check_variable = { current_region_conferance_vote = 3}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				TAG = ENG
				UCT = {
					check_variable = { current_region_conferance_vote = 4}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
				TAG = FRA
				UCT = {
					check_variable = { current_region_conferance_vote = 5}
				}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 6}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 7}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 8}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 9}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 10}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 11}
					}
			}
			modifier = { 
				factor = 100
				is_historical_focus_on = yes
					TAG = BEL
					UCT = {
						check_variable = { current_region_conferance_vote = 12}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = POR
					UCT = {
						check_variable = { current_region_conferance_vote = 13}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 14}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = PRS
					UCT = {
						check_variable = { current_region_conferance_vote = 15}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 16}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = PIE
					UCT = {
						check_variable = { current_region_conferance_vote = 17}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 18}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = ENG
					UCT = {
						check_variable = { current_region_conferance_vote = 19}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 20}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 21}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 22}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 23}
					}
			}
			modifier = { 
				factor = 10
				is_historical_focus_on = yes
					TAG = FRA
					UCT = {
						check_variable = { current_region_conferance_vote = 24}
					}
			}
		}
	}
	voting_timeout={
		activation = {
			has_country_flag = berlin_conferance_voting
		}
		available = {  
			NOT={has_country_flag = berlin_conferance_voting}
		}
        selectable_mission = no
		days_mission_timeout = 60
		is_good = no
        #fire_only_once = yes
		cancel_trigger = {
			NOT={has_country_flag = berlin_conferance_voting}
		}
        timeout_effect = {
            #add_manpower = -500
			clr_country_flag = berlin_conferance_voting
			UCT = {
				add_to_variable = {conferance_vote_@ROOT = 1}
				add_to_variable = {afr_number_of_votes_in_the_conference = 1}
				if={
					limit={
						check_variable = {var = afr_number_of_votes_in_the_conference var = berlin_conferance_voters^num compare = greater_than_or_equals}
					}
					country_event={id=EDC_berlin_con.16 days =1}
				}
			}
        }
	}
}

afr_scramble_for_africa={
	afr_annex_senegal={
		available = {
			has_idea = afr_colonial_power
		}
		visible={
			has_country_flag = BC_Granted_Senegal
			NOT={has_global_flag = BC_Senegal_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			set_global_flag = BC_Senegal_Colonised
			every_state={#tribes are subsumed
				limit={
					is_in_senegal = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={
							has_idea = AFR_history_of_colonial_resistance
							has_idea = AFR_history_of_colonial_resistance_1
						}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_senegal = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_senegal = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_senegal = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_senegal = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_senegal = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					is_in_senegal = yes
					owner={
						afr_is_tribal = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_senegal = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_senegal = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_manuritania={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Manuritania
			NOT={has_global_flag = BC_Manuritania_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_manuritania = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_manuritania = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_manuritania = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_manuritania = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_manuritania = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_manuritania = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					is_in_manuritania = yes
					owner={
						afr_is_tribal = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_manuritania = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_manuritania = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_guinea={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Guinea
			NOT={has_global_flag = BC_Guinea_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_guinea = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_guinea = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_guinea = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_guinea = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_guinea = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_guinea = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					is_in_guinea = yes
					owner={
						afr_is_tribal = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_guinea = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_guinea = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_sierra_leone={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Sierra_Leone
			NOT={has_global_flag = BC_Sierra_Leone_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_sierra_leone = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_sierra_leone = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_sierra_leone = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_sierra_leone = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_sierra_leone = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_sierra_leone = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_sierra_leone = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_sierra_leone = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_sierra_leone = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_ivory_coast={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Ivory_Coast
			NOT={has_global_flag = BC_Ivory_Coast_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_ivory_coast = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_ivory_coast = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_ivory_coast = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_ivory_coast = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_ivory_coast = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_ivory_coast = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_ivory_coast = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_ivory_coast = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_ivory_coast = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_ghana={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Ghana
			NOT={has_global_flag = BC_Ghana_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_ghana = yes
					NOT={
						owner={
							OR={
								tag = ASH
								tag = ROOT
							}
						}	
					}
				}
				ROOT={transfer_state =PREV}
				if={
					limit={
						owner = {NOT={afr_is_tribal = yes}}
					}
					owner={add_political_power = 100}
				}
			}
			declare_war_on = {
				target = ASH
				type = take_claimed_state
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_togo={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Togo
			NOT={has_global_flag = BC_Togo_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_togo = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_togo = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_togo = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_togo = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_togo = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_togo = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_togo = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_togo = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_togo = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_benin={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Benin
			NOT={has_global_flag = BC_Benin_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_benin = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_benin = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_benin = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_benin = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_benin = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_benin = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_benin = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_benin = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_benin = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_nigeria={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Nigeria
			NOT={has_global_flag = BC_Nigeria_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_nigeria = yes
					owner={
						afr_is_tribal = yes
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_nigeria = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_nigeria = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_nigeria = yes
					is_capital = no
					owner={
						afr_is_tribal = yes
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
						NOT={tag= SKT}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_nigeria = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_nigeria = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_nigeria = yes
					owner={
						afr_is_tribal = yes
						NOT={tag= SKT}
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_nigeria = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_nigeria = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_equatorial_africa={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Equatorial_Africa
			NOT={has_global_flag = BC_Equatorial_Africa_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_equatorial_africa = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_equatorial_africa = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_equatorial_africa = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_equatorial_africa = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_equatorial_africa = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_equatorial_africa = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_equatorial_africa = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_equatorial_africa = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_equatorial_africa = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_gabon={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Gabon
			NOT={has_global_flag = BC_Gabon_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_gabon = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_gabon = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_gabon = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_gabon = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_gabon = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_gabon = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_gabon = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_gabon = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_gabon = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_kongo={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Kongo
			NOT={has_global_flag = BC_Kongo_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			if={##congo free state
				limit={
					tag = BEL
				}
				ZAI={
					set_cosmetic_tag = ZAI_CFS
				}
				every_state={#tribes are subsumed
					limit={
						is_in_kongo = yes
						owner={
							afr_is_tribal = yes
							is_ai = yes
							NOT={
								is_subject_of = ZAN
							}
						}
					}
					ZAI={transfer_state = PREV}
					add_core_of = ZAI
				}
			}
			else={
				annex_country = {target = ZAI transfer_troops = no}
				every_state={#tribes are subsumed
					limit={
						is_in_kongo = yes
						owner={
							afr_is_tribal = yes
						}
						owner={
							NOT={has_idea = AFR_history_of_colonial_resistance}
							is_ai = yes
						}
					}
					if={
						limit={
							any_country={
								is_subject_of = ROOT
								capital_scope={
									is_in_kongo = yes
								}
							}
						}
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_kongo = yes
								}
							}
							transfer_state = PREV
							PREV={add_compliance = 50}
						}
					}
					else={
						ROOT={transfer_state = PREV}
						add_compliance = 50
					}
				}
				every_state={#the border states of resistors are annexed, but with high resistance
					limit={
						is_in_kongo = yes
						owner={
							afr_is_tribal = yes
						}
						is_capital = no
						#is_ai = yes
						owner={
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					if={
						limit={
							any_country={
								is_subject_of = ROOT
								capital_scope={
									is_in_kongo = yes
								}
							}
						}
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_kongo = yes
								}
							}
							transfer_state = PREV
							PREV={add_resistance = 30}
						}
					}
					else={
						ROOT={transfer_state = PREV}
						add_resistance = 30
					}
				}
				every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
					limit={
						is_in_kongo = yes
						owner={
							afr_is_tribal = yes
						}
						is_capital = yes
						owner={
							OR={
								is_ai = yes
								has_idea = AFR_history_of_colonial_resistance
							}
						}
					}
					if={
						limit={
							any_country={
								is_subject_of = ROOT
								capital_scope={
									is_in_kongo = yes
								}
							}
						}
						owner={
							random_country={
								limit={
									is_subject_of = ROOT
									capital_scope={
										is_in_kongo = yes
									}
								}
								declare_war_on = {
									target = PREV
									type = take_claimed_state
								}
								ROOT={
									add_to_war = {
										targeted_alliance = PREV 
										enemy = PREV.PREV 
										hostility_reason = asked_to_join
									}
								}
							}
						}
					}
					else={
						owner={
							ROOT={
								declare_war_on = {
									target = PREV
									type = take_claimed_state
								}
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_angola={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Angola
			NOT={has_global_flag = BC_Angola_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_angola = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_angola = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_angola = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_angola = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_angola = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_angola = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_angola = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_angola = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_angola = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_nambia={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Nambia
			NOT={has_global_flag = BC_Nambia_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_nambia = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_nambia = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_nambia = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_nambia = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_nambia = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_nambia = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_nambia = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_nambia = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_nambia = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_zanzabar={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Zanzabar
			NOT={has_global_flag = BC_Zanzabar_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_zanzabar = yes
					owner={
						afr_is_tribal = yes
						if={
							limit={
								is_puppet = yes
							}
							overlord={
								afr_is_tribal = yes
							}
						}
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_zanzabar = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_zanzabar = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_zanzabar = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_zanzabar = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_zanzabar = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_zanzabar = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_zanzabar = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_zanzabar = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_kenya={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Kenya
			NOT={has_global_flag = BC_Kenya_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_kenya = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
						if={
							limit={
								is_puppet = yes
							}
							overlord={
								afr_is_tribal = yes
							}
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_kenya = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_kenya = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_kenya = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_kenya = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_kenya = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_kenya = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_kenya = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_kenya = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_african_horn={
		available = {
			has_idea = afr_colonial_power
		}
		visible={
			has_country_flag = BC_Granted_African_Horn
			NOT={has_global_flag = BC_African_Horn_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			#take somailand if oman is not colonial
			if={
				limit={
					OMA={
						NOT={
							OR={
								owns_state = 821
								owns_state = 559
								owns_state = 1400
								MAJ={is_subject_of = PREV}
								GLD={is_subject_of = PREV}
								SOM={
									exists = yes
									is_subject_of = PREV
								}
							}
						}
					}
				}
				transfer_state = 821
				add_state_core = 821
				transfer_state = 559
				add_state_core = 559
				transfer_state = 1400
				add_state_core = 1400
				transfer_state = 914
				add_state_core = 914
			}
			if={#if egpyt is distracted, take eritrea
				limit={
					OR={
						AND={
							MED={
								is_subject_of = EGY
							}
							EGY={
								OR={
									check_variable = {EGY_debt > 20}
									has_idea = EGY_ENG_controlled_government
									has_idea = EGY_FRA_controlled_government
									has_idea = EGY_ITA_controlled_government
								}
							}
						}
						MED = {
							is_subject = no
						}
					}
				}
				transfer_state = 550
				add_state_core = 550
				transfer_state = 983
				add_state_core = 983
				if={
					limit={
						MED={owns_state = 815}
					}
					transfer_state = 815
					add_state_core = 815
				}
			}
			else={#buy eritrea later
				add_state_core = 550
				add_state_core = 983
				add_state_core = 815
				set_country_flag = EDC_can_buy_eritrea
			}
			add_state_claim = 816
			add_state_claim = 818
			add_state_claim = 819
			add_state_claim = 271
			add_state_claim = 820
			if={
				limit={
					ETH={owns_state = 815}
				}
				add_state_claim = 815
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_uganda={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Uganda
			NOT={has_global_flag = BC_Uganda_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_uganda = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_uganda = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_uganda = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_uganda = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_uganda = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_uganda = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_uganda = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_uganda = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_uganda = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_rhodesia={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Rhodesia
			NOT={has_global_flag = BC_Rhodesia_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_rhodesia = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_rhodesia = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_rhodesia = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_rhodesia = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_rhodesia = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_rhodesia = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_rhodesia = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_rhodesia = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_rhodesia = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_central_africa={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Central_Africa
			NOT={has_global_flag = BC_Central_Africa_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_central_africa = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_central_africa = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_central_africa = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_central_africa = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_central_africa = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_central_africa = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_central_africa = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_central_africa = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_central_africa = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_mali={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Mali
			NOT={has_global_flag = BC_Mali_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_mali = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_mali = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_mali = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_mali = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_mali = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_mali = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_mali = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_mali = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_mali = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_niger={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Niger
			NOT={has_global_flag = BC_Niger_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_niger = yes
					owner={
						afr_is_tribal = yes
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_niger = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_niger = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_niger = yes
					owner={
						afr_is_tribal = yes
						OR={
							is_ai = no
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					is_capital = no
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_niger = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_niger = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_niger = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = no
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_niger = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_niger = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_burkina_faso={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Burkina_Faso
			NOT={has_global_flag = BC_Burkina_Faso_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_burkina_faso = yes
					owner={
						afr_is_tribal = yes
					}
					owner={
						NOT={has_idea = AFR_history_of_colonial_resistance}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_burkina_faso = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_burkina_faso = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_burkina_faso = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = no
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_burkina_faso = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_burkina_faso = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_burkina_faso = yes
					owner={
						afr_is_tribal = yes
					}
					is_capital = yes
					owner={
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_burkina_faso = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_burkina_faso = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}
	afr_annex_chad={
		available = {
			has_idea = afr_colonial_power
			
		}
		visible={
			has_country_flag = BC_Granted_Chad
			NOT={has_global_flag = BC_Chad_Colonised}
		}
		cost = 50
		fire_only_once = yes
		days_remove = 240
		remove_effect = {
			every_state={#tribes are subsumed
				limit={
					is_in_chad = yes
					owner={
						afr_is_tribal = yes
						NOT={has_idea = AFR_history_of_colonial_resistance}
						NOT={tag = WDD}
						is_ai = yes
					}
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_chad = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_chad = yes
							}
						}
						transfer_state = PREV
						PREV={add_compliance = 50}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_compliance = 50
				}
			}
			every_state={#the border states of resistors are annexed, but with high resistance
				limit={
					is_in_chad = yes
					owner={
						afr_is_tribal = yes
						NOT={tag=WDD}
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					is_capital = no
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_chad = yes
							}
						}
					}
					random_country={
						limit={
							is_subject_of = ROOT
							capital_scope={
								is_in_chad = yes
							}
						}
						transfer_state = PREV
						PREV={add_resistance = 30}
					}
				}
				else={
					ROOT={transfer_state = PREV}
					add_resistance = 30
				}
			}
			every_state={#declare war on resistor capitals, due to cores if they win they should get thier land back, will likely script the peace later
				limit={
					is_in_chad = yes
					owner={
						afr_is_tribal = yes
						NOT={tag=WDD}
						OR={
							is_ai = yes
							has_idea = AFR_history_of_colonial_resistance
						}
					}
					is_capital = yes
				}
				if={
					limit={
						any_country={
							is_subject_of = ROOT
							capital_scope={
								is_in_chad = yes
							}
						}
					}
					owner={
						random_country={
							limit={
								is_subject_of = ROOT
								capital_scope={
									is_in_chad = yes
								}
							}
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
							ROOT={
								add_to_war = {
									targeted_alliance = PREV 
									enemy = PREV.PREV 
									hostility_reason = asked_to_join
								}
							}
						}
					}
				}
				else={
					owner={
						ROOT={
							declare_war_on = {
								target = PREV
								type = take_claimed_state
							}
						}
					}
				}
			}
		}
		ai_will_do = { 
			factor = 16
		}
	}

}

afr_reforming_regional_power_foreign_investments_decisions = {
	# ----------------------------------
	#Modern Resource Production Decisions
	# ----------------------------------
	afr_reforming_regional_power_regional_resources_completed = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_fabric_industry
			has_country_flag = afr_reforming_regional_power_has_logging_industry
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_resources_focus
		}
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			set_country_flag = afr_reforming_regional_power_regional_resources_completed
		}
	}
	
	afr_reforming_regional_power_regional_resources_decision = {
		ai_will_do = { factor = 1 }
		available = {
			hidden_trigger = {
				has_country_flag = finish_afr_reforming_regional_power_regional_resources_decision_mission
			}
		}
		
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		activation = { 
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
		}
		selectable_mission = no
		is_good = no
		cancel_trigger = {
			hidden_trigger = {
				always = no
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
		}
		
		fire_only_once = no

		#cost = 1
		
		days_mission_timeout = 720
		
		#modifier = {
		#	political_power_cost = 0.1
		#}
		
		complete_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = coal
					amount = 3
				}
			}
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = iron
					amount = 5
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_resources_decision_flag
		}
		timeout_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_resources_decision_mission
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = coal
					amount = 3
				}
			}
			random_owned_controlled_state ={
				limit = { is_core_of = ROOT }
				add_resource = {
					type = iron
					amount = 5
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_resources_decision_flag
		}
	}
	
	afr_reforming_regional_power_construct_fabric_industry = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_flag 
			has_country_flag = afr_reforming_regional_power_regional_industry_decision_flag
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = { 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			if = {
				limit = { 
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = { 
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = { 
					NOT = { has_country_flag = afr_rrp_company_port } 
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		
		visible = {
			has_country_flag = afr_reforming_regional_power_regional_resources_focus
		}
		
		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40
		days_remove = 460
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				debt_level_increase_by_1 = yes
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = { 
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}
		
		remove_effect = {
			random_owned_controlled_state ={
				limit = { 
					is_core_of = ROOT 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fabric_weavery
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = { 
						state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				}
			}
			set_country_flag = afr_reforming_regional_power_has_fabric_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}
	
	afr_reforming_regional_power_establish_logging_industry = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_regional_resources_decision_flag 
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = { 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			if = {
				limit = { 
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = { 
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = { 
					NOT = { has_country_flag = afr_rrp_company_port } 
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			OR = {
				has_country_flag = afr_reforming_regional_power_regional_resources_focus
				has_country_flag = afr_reforming_regional_power_regional_industry_focus
			}
		}
		
		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40
		
		days_remove = 360
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				debt_level_increase_by_1 = yes
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = { 
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}
		
		remove_effect = {
			random_owned_controlled_state ={
				limit = { 
					is_core_of = ROOT 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = logging_camp
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = { 
						state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
				}
			}
			set_country_flag = afr_reforming_regional_power_has_logging_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}
	
	# ---------------------------------- 
	# Modern Factories Decisions
	# ----------------------------------
	afr_reforming_regional_power_regional_industry_decision = {
		ai_will_do = { factor = 1 }
		available = {
			hidden_trigger = {
				has_country_flag = finish_afr_reforming_regional_power_regional_industry_decision_mission
				exists = yes
			}
		}
		
		#allowed = {
		#	has_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
		#}
		activation = { 
			has_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
		}
		selectable_mission = no
		is_good = no
		cancel_trigger = {
			hidden_trigger = {
				always = no
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}
		
		#fire_only_once = no

		#cost = 1
		
		days_mission_timeout = 720
		
		#modifier = {
		#	political_power_cost = 0.1
		#}
		
		complete_effect = {  
			hidden_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
			set_country_flag = afr_reforming_regional_power_regional_industry_decision_flag
			}
		}
		timeout_effect = {  
			clr_country_flag = afr_reforming_regional_power_regional_industry_decision_mission
			set_country_flag = afr_reforming_regional_power_regional_industry_decision_flag
		}
	}
	
	afr_reforming_regional_power_regional_industry_completed = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_civilian_industry
			has_country_flag = afr_reforming_regional_power_has_military_industry
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_focus
		}
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			set_country_flag = afr_reforming_regional_power_regional_industry_completed
		}
	}
	
	afr_reforming_regional_power_construct_civ_factory = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_fabric_industry
			has_country_flag = afr_reforming_regional_power_has_logging_industry
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = { 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			if = {
				limit = { 
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = { 
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = { 
					NOT = { has_country_flag = afr_rrp_company_port } 
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_focus
		}
		
		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40
		
		days_remove = 720
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				debt_level_increase_by_1 = yes
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = { 
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}
		
		remove_effect = {
			random_owned_controlled_state ={
				limit = { 
					is_core_of = ROOT 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = { 
						state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
			set_country_flag = afr_reforming_regional_power_has_civilian_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}
	
	afr_reforming_regional_power_construct_mil_factory = {
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_has_fabric_industry
			has_country_flag = afr_reforming_regional_power_has_logging_industry
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_new_buildings
				any_owned_state = { 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			if = {
				limit = { 
					has_country_flag = afr_rrp_company_port
					has_variable = has_afr_empire_mechanic_system
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_company
					has_country_flag = afr_rrp_company_port
				}
			}
			if = {
				limit = { 
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
						has_variable = has_afr_empire_mechanic_system
					}
					else = { always = no }
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_has_oman
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
				}
			}
			if = {
				limit = { 
					NOT = { has_country_flag = afr_rrp_company_port } 
					has_variable = has_afr_empire_mechanic_system
					if = {
						limit = { TAG = MOM }
						OMA = { NOT = { has_country_flag = oma_vic_MOM_industrialisation_flag } }
					}
					else_if = {
						limit = { TAG = ZAN }	
						OMA = { NOT = { has_country_flag = oma_vic_ZAN_industrialisation_flag } }
					}
				}
				custom_trigger_tooltip = {
					tooltip = afr_prosperity_mechanic_greater_than_40_no_company
					check_variable = {
						afr_prosperity_mechanic_value > 39
					}
				}
			}
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_industry_focus
		}
		
		fire_only_once = yes

		#cost = 0
		custom_cost_trigger = {
			check_variable = { afr_prosperity_mechanic_value > 39 }
		}
		custom_cost_text = afr_prosperity_mechanic_custom_cost_40
		
		days_remove = 720
		
		modifier = {
			political_power_cost = 0.1
		}
		
		complete_effect = {
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = 1 }
			if = {
				limit = { NOT = { has_variable = has_afr_empire_mechanic_system } }
				debt_level_increase_by_1 = yes
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					OR = {
						check_variable = { afr_prosperity_mechanic_value > 39 }
						NOT = { has_country_flag = afr_rrp_company_port }
					}
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
			if = {
				limit = { 
					has_variable = has_afr_empire_mechanic_system 
					check_variable = { afr_prosperity_mechanic_value < 40 }
					if = {
						limit = { TAG = MOM }
						OMA = { has_country_flag = oma_vic_MOM_industrialisation_flag }
					}
					else_if = { 
						limit = { TAG = ZAN }
						OMA = { has_country_flag = oma_vic_ZAN_industrialisation_flag }
					}
					else = { has_country_flag = afr_rrp_company_port }
				}
				custom_effect_tooltip = afr_prosperity_mechanic_minus_40_investment_debt_tooltip
				add_to_variable = {
					var = afr_prosperity_mechanic_value
					value = -40
				}
			}
		}
		
		remove_effect = {
			random_owned_controlled_state ={
				limit = { 
					is_core_of = ROOT 
					Oceania_infrastructure_for_extra_building_slots_trigger = yes
				}
				hidden_effect = {
					add_to_variable = { Oceania_extra_state_shared_building_slots = 1 }
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				if = {
					limit = { OWNER = { has_variable = has_afr_empire_mechanic_system } }
					hidden_effect = { 
						state_event = { id = afr_empire_politics_regional_development_boom_event.1 days = 120 trigger_for = controller }
						set_state_flag = afr_empire_politics_has_regional_development_boom_flag
						afr_empire_politics_state_gain_immigration = yes
						afr_empire_politics_state_gain_boom = yes
					}
					custom_effect_tooltip = afr_empire_politics_state_economy_status_boom_effect
					afr_empire_state_industrisation_progress_set_to_100 = yes
				}
			}
			set_country_flag = afr_reforming_regional_power_has_military_industry
			add_to_variable = { var = afr_reforming_regional_power_construction_in_progress value = -1 }
		}
	}
	
	# ----------------------------------
	# Modern Cities Decisions
	# ----------------------------------
	afr_reforming_regional_power_regional_infrastructure = {
		icon = generic_form_nation
		ai_will_do = { factor = 1 }
		available = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_flag
			exists = yes
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_focus
		}
		
		fire_only_once = yes

		cost = 0
		
		complete_effect = {
			set_country_flag = afr_reforming_regional_power_regional_infrastructure_completed
			
		}
	}
	
    afr_reforming_regional_power_regional_infrastructure_decision = {
		ai_will_do = { factor = 1 }
		available = {
			hidden_trigger = {
				has_country_flag = finish_afr_reforming_regional_power_regional_infrastructure_decision_mission
			}
		}
		
		#allowed = {
		#	has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
		#}
		activation = { 
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
		}
		selectable_mission = no
		is_good = no
		cancel_trigger = {
			hidden_trigger = {
				always = no
			}
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			has_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
		}
		
		#fire_only_once = no

		#cost = 1
		
		days_mission_timeout = 900
		
		#modifier = {
		#	political_power_cost = 0.1
		#}
		
		complete_effect = {  
			clr_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size < 1
						}
					}
				}
				random_owned_controlled_state ={
					limit = { 
						is_capital = no
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { TAG = ETH }
				custom_effect_tooltip = ETH_connect_the_villages_tooltip
				swap_ideas = {
					remove_idea=ETH_idea_isolated_villages
					add_idea = ETH_idea_isolated_villages_2
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_flag
		}
		timeout_effect = {
			clr_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_mission
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = infrastructure
							size < 1
						}
					}
				}
				random_owned_controlled_state ={
					limit = { 
						is_capital = no
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = { TAG = ETH }
				custom_effect_tooltip = ETH_connect_the_villages_tooltip
				swap_ideas = {
					remove_idea=ETH_idea_isolated_villages
					add_idea = ETH_idea_isolated_villages_2
				}
			}
			set_country_flag = afr_reforming_regional_power_regional_infrastructure_decision_flag
		}
	}
	
	afr_reforming_regional_power_clear_development_decision = {

		available = {
			#custom_trigger_tooltip = {
			#	tooltip = afr_prosperity_mechanic_greater_than_10
			#		check_variable = {
			#		afr_prosperity_mechanic_value > 9
			#	}
			#}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_insufficient_infrastructure_to_support_new_buildings
				all_owned_state = {
					if = {
						limit = {
							is_core_of = ROOT
						}
						is_core_of = ROOT
						Oceania_infrastructure_for_extra_building_slots_trigger = no 
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = Ocenaia_has_infrastructure_to_support_clearing_land
				any_owned_state = { 
					Oceania_infrastructure_for_clearing_building_slots_trigger = yes 
					is_core_of = ROOT
				}
			}
			custom_trigger_tooltip = {
				tooltip = afr_prosperity_mechanic_construction
				check_variable = { afr_reforming_regional_power_construction_in_progress < 1 }
			}
		}
		allowed = { 
			OR = {
				afr_is_tribal_allowed = yes
				oceania_is_tribal_allowed = yes
				is_first_nations_tribe = yes
				is_south_american_tribe = yes
			}
		}

		visible = {
			all_owned_state = {
				if = {
					limit = {
						is_core_of = ROOT
					}
					is_core_of = ROOT
					Oceania_infrastructure_for_extra_building_slots_trigger = no 
				}
			}
		}

		complete_effect = {
			add_political_power = -15
			#custom_effect_tooltip = afr_prosperity_mechanic_minus_10
			#add_to_variable = {
			#	var = afr_prosperity_mechanic_value
			#	value = -10
			#}
			set_country_flag = afr_prosperity_mechanic_construction_flag
		}
		
		days_remove = 30
		
		modifier = {
			political_power_cost = 0.1
        }
		
		
		remove_effect = {
			hidden_effect = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT 
						Oceania_infrastructure_for_clearing_building_slots_trigger = yes
					}
					add_to_variable = { Oceania_extra_state_shared_building_slots = -1 }
					add_extra_state_shared_building_slots = -1
				}
			}
			custom_effect_tooltip = Oceania_infrastructure_for_clearing_building_slots_tooltip
			clr_country_flag = afr_prosperity_mechanic_construction_flag
        }
		
		ai_will_do = {
			factor = 10
		}
	}

}

NA_FN_raids = {
	navajo_take_defiance = {
		allowed = { tag = NAV }
		available = {	controls_state = 1297 }

		activation = { always = no }

		days_mission_timeout = 90

		timeout_effect = {
			1297 = {
				OWNER = {
					white_peace = ROOT
				}
			}
		}
		
		complete_effect = {
			remove_state_claim = 1297
			add_state_core = 1297
			transfer_state = 1297
			1297 = {
				OWNER = {
					white_peace = ROOT
				}
			}
		}
	}
}